import b from"./LoaderSpin.BSxPZ24i.js";import{_ as L}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as a,a as i,b as x,F as y,r as v,d as c,o as k,e as s,f as S,n as B,t as E}from"./runtime-core.esm-bundler.DfkMFF3I.js";import"./runtime-dom.esm-bundler.DgKUaoMa.js";/* empty css                       */const P=50,p="/cases/lugano-2025/gallery",F={__name:"Gallery",setup(w,{expose:r}){r();const d=c([]),e=c(0),l=c(1),m=()=>{const n=window.location.pathname.match(/\/page\/(\d+)/);return n?Number(n[1]):1},t=o=>o===1?p+"/":`${p}/page/${o}/`,_=o=>{const n=o.target.parentElement.previousElementSibling;n&&(n.style.display="none")},u=async()=>{l.value=m();const h=(await(await fetch(`https://media-roseman.robonomics.network/api/files?limit=${P}&page=${l.value}`)).json()).result;e.value=h.totalPages,d.value=h.files.map(g=>({url:`https://plum-relevant-hamster-134.mypinata.cloud/ipfs/${g.cid}`,filename:g.filename,timestamp:g.timestamp}))};k(u);const f={images:d,totalPages:e,currentPage:l,limit:P,basePath:p,getPageFromUrl:m,getPageLink:t,hideLoader:_,fetchImages:u,ref:c,onMounted:k,Loader:b};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}},V={class:"section"},j={key:0,class:"layout"},z={class:"gallery grid grid-4"},C={class:"image-wrapper"},G=["href","download"],I=["src","alt"],D={key:0,class:"pagination"},M=["href"],N={key:1,class:"layout text-center"};function O(w,r,d,e,l,m){return s(),a("section",V,[e.images&&e.images.length?(s(),a("div",j,[i("div",z,[(s(!0),a(y,null,v(e.images,t=>(s(),a("div",{key:t.filename,class:"gallery-item"},[i("div",C,[S(e.Loader),i("a",{href:t.url,download:t.filename,target:"_blank"},[i("img",{src:t.url,alt:t.filename,loading:"lazy",onLoad:r[0]||(r[0]=_=>e.hideLoader(_))},null,40,I)],8,G)])]))),128))]),e.totalPages>1?(s(),a("nav",D,[(s(!0),a(y,null,v(e.totalPages,t=>(s(),a("a",{key:t,href:e.getPageLink(t),class:B({active:t===e.currentPage})},E(t),11,M))),128))])):x("",!0)])):(s(),a("div",N," No images were loaded... "))])}const K=L(F,[["render",O],["__scopeId","data-v-0fd95008"]]);export{K as default};
