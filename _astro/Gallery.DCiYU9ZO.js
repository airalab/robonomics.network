import w from"./LoaderSpin.Cp4EHAXI.js";import{_ as L}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as o,a as n,b as x,F as y,r as v,d as c,o as P,e as r,f as S,n as B,t as E}from"./runtime-core.esm-bundler.K2xoxTUs.js";import"./runtime-dom.esm-bundler.C7lr2R6z.js";/* empty css                       */const k=50,u="/cases/lugano-2025/gallery",F={__name:"Gallery",setup(b,{expose:l}){l();const d=c([]),t=c(0),i=c(1),m=()=>{const s=window.location.pathname.match(/\/page\/(\d+)/);return s?Number(s[1]):1},e=a=>a===1?u+"/":`${u}/page/${a}/`,_=a=>{const s=a.target.parentElement.previousElementSibling;s&&(s.style.display="none")},f=async()=>{i.value=m();const h=(await(await fetch(`https://media-roseman.robonomics.network/api/files?limit=${k}&page=${i.value}`)).json()).result;t.value=h.totalPages,d.value=h.files.map(p=>({url:`https://plum-relevant-hamster-134.mypinata.cloud/ipfs/${p.cid}`,filename:p.filename,timestamp:p.timestamp}))};P(f);const g={images:d,totalPages:t,currentPage:i,limit:k,basePath:u,getPageFromUrl:m,getPageLink:e,hideLoader:_,fetchImages:f,ref:c,onMounted:P,Loader:w};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},V={class:"section"},j={class:"layout"},z={class:"gallery grid grid-4"},C={class:"image-wrapper"},G=["href","download"],I=["src","alt"],$={key:0,class:"pagination"},D=["href"];function M(b,l,d,t,i,m){return r(),o("section",V,[n("div",j,[n("div",z,[(r(!0),o(y,null,v(t.images,e=>(r(),o("div",{key:e.filename,class:"gallery-item"},[n("div",C,[S(t.Loader),n("a",{href:e.url,download:e.filename,target:"_blank"},[n("img",{src:e.url,alt:e.filename,loading:"lazy",onLoad:l[0]||(l[0]=_=>t.hideLoader(_))},null,40,I)],8,G)])]))),128))]),t.totalPages>1?(r(),o("nav",$,[(r(!0),o(y,null,v(t.totalPages,e=>(r(),o("a",{key:e,href:t.getPageLink(e),class:B({active:e===t.currentPage})},E(e),11,D))),128))])):x("",!0)])])}const J=L(F,[["render",M],["__scopeId","data-v-32875206"]]);export{J as default};
