(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{"+avF":function(t,o,n){"use strict";n.r(o);var e=n("KHd+"),r=n("UQSp"),a=n("Kw5r");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a.a.config.optionMergeStrategies;var i={VueRemarkRoot:r.a},p=function(t){var o=t.options.components=t.options.components||{},n=t.options.computed=t.options.computed||{};Object.keys(i).forEach((function(t){"object"===s(i[t])&&"function"==typeof i[t].render||"function"==typeof i[t]&&"function"==typeof i[t].options.render?o[t]=i[t]:n[t]=function(){return i[t]}}))},c=a.a.config.optionMergeStrategies,l="__vueRemarkFrontMatter",m={excerpt:null,title:"Взламано Лабораторію Джонні",date:"2024-06-25T00:00:00.000Z",published:!0,locale:"uk",tags:["Events","Online school","Web3"],cover_image:"../images/hacked-johnnys-lab/cover.png",description:"Недавно відбулося подія “Взламати Лабораторію Джонні” від Robonomics, і я вважаю, що я взламав її в певному сенсі! Окрім першої спроби, яку я програв через непорозуміння правил, я виграв кожне коло, в якому брав участь, і ось коротка історія “як”.",abstract:"Привіт! ПаТара на лінії. Недавно відбулося подія “Взламати Лабораторію Джонні” від Robonomics, і я вважаю, що я взламав її в певному сенсі! Окрім першої спроби, яку я програв через непорозуміння правил, я виграв кожне коло, в якому брав участь, і ось коротка історія “як”. "};var u=function(t){t.options[l]&&(t.options[l]=m),a.a.util.defineReactive(t.options,l,m),t.options.computed=c.computed({$frontmatter:function(){return t.options[l]}},t.options.computed)},f=Object(e.a)({},(function(){var t=this,o=t._self._c;return o("VueRemarkRoot",[o("p",[t._v("Отже, короткий і необхідний підсумок правил: 12 слів у змішаному порядку, 5-хвилинне відео TurtleBot 4, що блукає лабораторією\nі псування порядку слів мнемонічної фрази, 5-20 учасників, які бажають перемогти, і вільна неділя, щоб придумати стратегію.")]),o("rb-image",{attrs:{zoom:"",src:"./images/hacked-johnnys-lab/0.png",alt:"Game Interface"}}),o("p",[t._v("Я дещо знаю про програмування, у мене є непоганий ноутбук і майже жодних навичок у розпізнаванні зображень. Більше того, \nЯ вирішив грати чесно, що означає відсутність завантаження відео, відсутність зловживання швидкістю відтворення, відсутність навігації по плейбару. \nТому вибрана стратегія була добре відомим методом брутфорсу. Звучить більше як хакінг, ніж що інше.\nЩо ми тут маємо: набір з 12 слів у змішаному порядку. Це дає нам 12! (факторіал) варіантів фраз \n(479’001’600 щоб бути точним). Досить велика кількість для обробки!")]),o("h2",{attrs:{id:"стратегія-1-дурний-і-прямолінійний"}},[o("a",{attrs:{href:"#%D1%81%D1%82%D1%80%D0%B0%D1%82%D0%B5%D0%B3%D1%96%D1%8F-1-%D0%B4%D1%83%D1%80%D0%BD%D0%B8%D0%B9-%D1%96-%D0%BF%D1%80%D1%8F%D0%BC%D0%BE%D0%BB%D1%96%D0%BD%D1%96%D0%B9%D0%BD%D0%B8%D0%B9","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),t._v("Стратегія 1: дурний і прямолінійний.")]),o("p",[t._v("Ну що ще мені потрібно, просто йди і сортуй! Але ось перший трюк: 12! мнемонічних фраз просто не влазили \nмої 64 ГБ ОЗУ! Я отримав помилку SIGTERM у консолі IDE. \nТож я створив "),o("a",{attrs:{href:"https://docs.python.org/3/library/itertools.html#itertools.permutations",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("ітератор")]),t._v(" і розпочав процес.\nМені знадобився деякий час, не знаю точно, скільки, але протягом 30 секунд, щоб обчислити кількість комбінацій.\nПросто оціночний запуск. Але справа в тому, що мій ноутбук навіть не включав свої вентилятори на максимум! Було завантажено лише одне ядро. ")]),o("p",[t._v("Я шукав в Інтернеті пакет Python "),o("a",{attrs:{href:"https://docs.python.org/3/library/multiprocessing.html",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("multiprocessing")]),t._v(", щоб завантажити всі \nлогічні ядра мого процесора (20 з них) для паралельних обчислень. В іншому випадку це була б вічна подорож. \nАле для цього мені довелося розділити мій ітератор на 12 частин. Пакети multiprocessing itertools дійно працюють разом, \nале коли весь набір варіантів знаходиться в ОЗУ. Це не було моєю справою, тому було виконано наступне:")]),o("rb-image",{attrs:{zoom:"",src:"./images/hacked-johnnys-lab/1.png",alt:"Parallelizing"}}),o("p",[t._v("З того моменту і назавжди я буду використовувати цю стратегію, щоб мій монітор завантаження ЦП виглядав так:")]),o("rb-image",{attrs:{zoom:"",src:"./images/hacked-johnnys-lab/1_1.png",alt:"CPU Load"}}),o("p",[t._v("Я вважаю, що це скоротило час виконання до близько 5 секунд. Я отримав найкращий спосіб ітерувати через \nкомбінації, але їх було просто занадто багато! Перший крок пеедбачав виконання приблизно 480 мільйонів \nекструзій в мережі. Вузол просто забанив би мене за DDOS, і навіть без цього це тривало б вічно!")]),o("rb-image",{attrs:{zoom:"",src:"./images/hacked-johnnys-lab/2.png",alt:"1st Attempt"}}),o("p",[t._v("Лише з метою налагодження я запустив сценарій (для взаємодії з вузлом я використовував пакет \n"),o("a",{attrs:{href:"https://pypi.org/project/substrate-interface/1.0.3/",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("py-substrate-interface")]),t._v(" і помітив, що перед викликом \nвиконання я отримував помилки типу "),o("em",[t._v("недійсна фраза мнемоніки")]),t._v(". Підказка! Якщо б я міг перевірити комбінацію на місці, \nя б зекономив тонни часу! Парсинг GitHub привів мене до \n"),o("a",{attrs:{href:"https://github.com/polkascan/py-substrate-interface/blob/master/substrateinterface/keypair.py#L170",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("цього")]),t._v(" \nрядка коду, і я додав перевірку комбінації до свого сценарію. Це зменшило кількість потенційних екструзій до приблизно 39’000’000 в 12 разів швидше!\nАле все одно, 39 мільйонів викликів забанили б мене назавжди, тому мені потрібно було ще більше розкопок. Як я можу значно скоротити")]),o("rb-image",{attrs:{zoom:"",src:"./images/hacked-johnnys-lab/3.png",alt:"2nd Attempt"}}),o("p",[t._v("кількість обчислень? Ну, трохи зраджуючи свою початкову стратегію. Подивіться, я мав уникати перегляду відео, \n“хакер, який навіть не потребує відео”, але математика змусила мене змінити свою думку. Змінити її на стратегію в 132 рази швидше. \nНижче пояснення: \nЗ цим мені потрібно було знати лише дві правильні позиції слів у фразі (одне зайняло б занадто багато часу, експериментально підтверджено).")]),o("rb-image",{attrs:{zoom:"",src:"./images/hacked-johnnys-lab/4.png",alt:"2 Words Insertion"}}),o("p",[t._v("Я б ітерував через 10! комбінацій, вставляв два слова на правильні позиції та перевіряв фразу, \nзменшуючи варіанти до приблизно 300’000, досить значне зменшення! Більше того, набір комбінацій 10! вліз у мою ОЗУ, чудово! \nсвій власний локальний вузол Robonomics, синхронізований з ланцюжком і запитати його про баланс рахунку!")]),o("rb-image",{attrs:{zoom:"",src:"./images/hacked-johnnys-lab/5.png",alt:"3rd Attempt"}}),o("p",[t._v("Крім того, замість того, щоб намагатися передавати всі маркери кожні 300 тисяч разів і викликати для цього загальнодоступний вузол, я вирішив встановити\nстворити мій власний локальний вузол Robonomics, синхронізований із ланцюжком, і запитати в нього кінцевий баланс адреси облікового запису!\nЗапит значно «простіший», ніж зовнішній. Після цілої ночі синхронізації (я встановив обмеження кешу, щоб мій\nноутбук не вибухне з даними ланцюга в його ПЗУ) Я спробував і.. це була катастрофа. Мережеві транзакції\n(навіть у локальному хості) зайняло надто багато часу. Я навіть не чекав до кінця, очевидно, це було набагато повільніше, ніж\nперегляд цілого відео. Якби я міг знати точну адресу рахунку! Але для цього мені потрібна мнемонічна фраза… "),o("strong",[t._v("Чи я справді?")])]),o("p",[t._v("Подивись. Правила кажуть, що в бажаному обліковому записі "),o("strong",[t._v("точно")]),t._v(" 42 XRT. Чому б мені не отримати всі активні адреси в мережі,\nвідфільтрувати їх, маючи точно 42 XRT і порівняти кожну згенеровану адресу зі списком можливих цілей \n(близько 20, зменшуючись до 1 в кінці). Легко сказати і зробити. ")]),o("p",[t._v("Тепер, після ще однієї модифікації мого скрипта, я нарешті зробив лише один запит і одну транзакцію, які безперечно \nдають мені бажаний приз.")]),o("rb-image",{attrs:{zoom:"",src:"./images/hacked-johnnys-lab/6.png",alt:"4th Attempt"}}),o("p",[t._v("Тепер, після того, як я переглянув 25 секунд відео (тим часом заповнюючи слова мнемоніки), \nмені б вистачило максимум 30 секунд, щоб вкрасти винагороду. Взламав це.")]),o("rb-image",{attrs:{zoom:"",src:"./images/hacked-johnnys-lab/7.png",alt:"Discord Bot Notification"}})],1)}),[],!1,null,null,null);"function"==typeof p&&p(f),"function"==typeof u&&u(f);o.default=f.exports},UQSp:function(t,o,n){"use strict";o.a={name:"VueRemarkRoot",render(t){return t("div",null,this.$slots.default)}}}}]);