---
title: تم اختراق مختبر جوني
date: 2024-06-25
published: true
locale: 'ar'
tags: ['Events', 'Online school', 'Web3', ]
cover_image: /blog/images/hacked-johnnys-lab/cover.png
description: "كان هناك حدث حديث بعنوان 'Hack Johnny’s Lab' من تنظيم شركة Robonomics وأعتقد أنني نجحت فيه بطريقة ما! وبصرف النظر عن المحاولة الأولى التي خسرتها بسبب سوء فهم القواعد، فقد فزت بكل جولة شاركت فيها، وإليك قصة قصيرة عن كيفية القيام بذلك"
abstract: "مرحبًا! باتارا على الخط. كان هناك حدث مؤخرًا بعنوان 'Hack Johnny’s Lab' الذي نظمته شركة Robonomics وأعتقد أنني نجحت فيه بطريقة ما! بصرف النظر عن المحاولة الأولى التي خسرتها بسبب سوء فهم القواعد، فقد فزت بكل جولة شاركت فيها، وإليك قصة قصيرة عن كيفية القيام بذلك. "
---

لذا، إليك ملخص سريع وضروري للقواعد: 12 كلمة بترتيب مختلط، ومقطع فيديو مدته 5 دقائق لـ TurtleBot 4 وهو يتجول في مختبر ويفسد ترتيب الكلمات في العبارة التذكيرية، و5 إلى 20 مشاركًا على استعداد للفوز ويوم الأحد المجاني للتفكير في استراتيجية.

<RbImage zoom src="/blog/images/hacked-johnnys-lab/0.png" alt="Game Interface" />

أنا على دراية بالبرمجة ولدي جهاز كمبيوتر محمول جيد ولا أمتلك أي مهارة تقريبًا في التعرف على الصور. علاوة على ذلك، 
قررت أن ألعب بشكل عادل، وهو ما يعني عدم تنزيل أي فيديو، وعدم إساءة استخدام سرعة التشغيل، وعدم التنقل عبر شريط التشغيل. 
لذا فإن الاستراتيجية المختارة كانت عبارة عن قوة وحشية قديمة جيدة. يبدو الأمر وكأنه اختراق أكثر من أي شيء آخر.
ماذا لدينا هنا: مجموعة من 12 كلمة بترتيب مختلط. وهذا يعطينا 12 خيارًا (عامليًا) من العبارات 
(479’001’600 على وجه التحديد). كمية كبيرة من المال تحتاج إلى معالجتها!


## الإستراتيجية 1: غبية ومباشرة.

حسنًا، اذا آخر يحتاج، فقط اذهب وانقب! ولكن ها هو الخدعة الأولى: 12! العبارات الذاكرية لم تناسب فقط 
64 جيجابايت من ذاكرة الوصول العشوائي! حصلت على خطأ SIGTERM في وحدة التحكم IDE. 
لذا قمت بإنشاء [مكرر](https://docs.python.org/3/library/itertools.html#itertools.permutations) وبدأت العملية.
استغرق الأمر مني بعض الوقت، لست متأكدًا على وجه التحديد، ولكن في غضون 30 ثانية، لحساب عدد التركيبات.
تشغيل تقييمي فقط. ولكن المشكلة هي: لم تقم الكمبيوتر المحمول بتشغيل مراوحه حتى الحد الأقصى! تم تحميل نواة واحدة فقط. 

لقد بحثت عن حزمة Python [multiprocessing](https://docs.python.org/3/library/multiprocessing.html) لتحميل كل 
النوى المنطقية لمعالج الكمبيوتر الخاص بي (20 منها) لتوازي الحسابات. وإلا، كان سيكون رحلة أبدية. 
ولكن مع ذلك كان علي أن أقسم محدد التكرار الخاص بي إلى 12 جزءًا. تعمل حزم multiprocessing itertools معًا، 
ولكن عندما يكون مجموعة كاملة من الخيارات في الذاكرة. لم يكن هذا حالتي، لذا تم تنفيذ ما يلي:

<RbImage zoom src="/blog/images/hacked-johnnys-lab/1.png" alt="Parallelizing"/>


منذ ذلك الوقت وحتى الآن سأستخدم هذه الاستراتيجية لجعل مراقبة تحميل معالج الكمبيوتر الخاص بي تبدو هكذا:

<RbImage zoom src="/blog/images/hacked-johnnys-lab/1_1.png" alt="CPU Load"/>


أعتقد أن هذا قصر وقت التنفيذ إلى حوالي 5 ثوانٍ. حصلت على أفضل طريقة للتكرار من خلال 
المجموعات ولكن كان هناك الكثير منها! الخطوة الأولى تتضمن تنفيذ حوالي 480 مليون 
عملية خارجية في الشبكة. سيحظرني العقد ببساطة لـ DDOS وحتى بدون ذلك سيستغرق الأمر إلى الأبد!

<RbImage zoom src="/blog/images/hacked-johnnys-lab/2.png" alt="1st Attempt"/>


فقط لسبب تصحيح أخطاء بدأت النص (للتواصل مع العقد استخدمت 
[py-substrate-interface](https://pypi.org/project/substrate-interface/1.0.3/) حزمة) ولاحظت أن قبل الاستدعاء 
الأداء حصلت على أخطاء مثل _عبارة ذاكرية غير صالحة_. إشارة! إذا كنت أستطيع التحقق من الجمع على الأرض، 
سأوفر الكثير من الوقت! توجهت إلى تحليل GitHub 
[هذا](https://github.com/polkascan/py-substrate-interface/blob/master/substrateinterface/keypair.py#L170) 
سطر الكود وأضفت التحقق من الجمع إلى النص الخاص بي. هذا قلل عدد العمليات الخارجية المحتملة إلى حوالي 39 مليون مرة واحدة!
ولكن لا يزال، 39 مليون استدعاء سيحظرني إلى الأبد، لذا كنت بحاجة إلى المزيد من البحث. كيف يمكنني تقليص بشكل كبير

<RbImage zoom src="/blog/images/hacked-johnnys-lab/3.png" alt="2nd Attempt"/>


عدد الحسابات؟ حسنًا، بقليل من خيانة استراتيجيتي الأولية. انظر، كنت سأتجنب مشاهدة الفيديو، 
“هاكر، الذي لن يحتاج حتى إلى فيديو”، لكن الرياضيات جعلتني أغير رأيي. غيّرها إلى استراتيجية أسرع 132 مرة. 
أدناه هو التفسير: 
مع ذلك، كان علي أن أعرف مواقع كلمتين صحيحتين في عبارة (سيستغرق واحدًا وقتًا طويلاً، تم التحقق منه بالتجربة).

<RbImage zoom src="/blog/images/hacked-johnnys-lab/4.png" alt="2 Words Insertion"/>


سأتكرر من خلال 10! مجموعات، أدخل كلمتين في المواقع الصحيحة وأحقق العبارة، 
مما يقلل من الخيارات إلى حوالي 300’000 انخفاضًا كبيرًا! أكثر من ذلك، مجموعات 10! تناسبت في ذاكرتي، ممتاز! 
أيضًا، بدلاً من محاولة نقل جميع الرموز 300 ألف مرة واستدعاء عقد عام لذلك قررت إعداد

<RbImage zoom src="/blog/images/hacked-johnnys-lab/5.png" alt="3rd Attempt"/>


عقد Robonomics المحلي الخاص بي متزامنًا مع السلسلة وطلب منه رصيد حساب النتيجة! 
الاستعلام أسهل بكثير من عملية خارجية. بعد ليلة كاملة من المزامنة (لقد وضعت حدًا للذاكرة المؤقتة بحيث) 
الاستعلام "أسهل" بكثير من الاستعلام الخارجي. بعد ليلة كاملة من المزامنة (لقد قمت بتعيين حد ذاكرة التخزين المؤقت حتى لا ينفجر الكمبيوتر المحمول الخاص بي ببيانات السلسلة في ذاكرة القراءة فقط الخاصة به) قمت بتجربته وكانت كارثة. معاملات الشبكة
مشاهدة فيديو كامل. لو كنت أعرف العنوان الدقيق للحساب! ولكن لذلك أحتاج عبارة ذاكرية… **أم حقًا؟** 
انظر. تقول القواعد أن الحساب المطلوب يحتوي على **بالضبط** 42 XRT. لماذا لا أحصل على جميع العناوين النشطة في الشبكة،

فرزها بوجود 42 XRT بالضبط ومقارنة كل عنوان تم إنشاؤه بقائمة الأهداف المحتملة
(حوالي 20، تنخفض إلى 1 في النهاية). سهلة القول والقيام بها. 
الآن، بعد تعديل النص الخاص بي مرة أخرى أخيرًا وصلت إلى استعلام واحد فقط وعملية واحدة ستمنحني بالتأكيد 

الجائزة المرغبة. 
الآن، بعد مشاهدة 25 ثانية من الفيديو (في الوقت نفسه ملء كلمات ذاكرية)،

<RbImage zoom src="/blog/images/hacked-johnnys-lab/6.png" alt="4th Attempt"/>


سأحتاج فقط إلى 30 ثانية كحد أقصى لسرقة الجائزة. قد نجحت. 
سأحتاج فط 30 ثانية كحد أقصى لسرقة الجائزة. تم اختراقها.

<RbImage zoom src="/blog/images/hacked-johnnys-lab/7.png" alt="Discord Bot Notification"/>



