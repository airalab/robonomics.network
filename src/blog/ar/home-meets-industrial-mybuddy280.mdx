---
title: "التَّلقائيّة: عندما يلتقي المنزل بالصّناعة"
date: 2024-03-24
published: true
locale: 'ar'
cover_image: /blog/images/automation-home-meets-industrial-mybuddy280/Cover.png
description: "ROS 2 هو إطار عمل يصبح بسرعة شديدة شائعًا لتطوير تطبيقات الروبوتات. يتضمن تجربة الصناعة المتراكمة ويشاركها مع المجتمع العالمي. فريقنا مشارك بنشاط في تطوير حزم ROS 2 جديدة للروبوتات التي نستخدمها، بالإضافة إلى دمجها في شبكة Robonomics المركزية."
related: ['Robonomics Helps Enable Rust for ROS 2']
abstract: "ROS 2 هو إطار عمل يصبح بسرعة شديدة شائعًا لتطوير تطبيقات الروبوتات. يتضمن تجربة الصناعة المتراكمة ويشاركها مع المجتمع العالمي. فريقنا مشارك بنشاط في تطوير حزم ROS 2 جديدة للروبوتات التي نستخدمها، بالإضافة إلى دمجها في شبكة Robonomics المركزية."
tags: ['ROS 2', 'المنزل الذكي']
---

التقنيات التي تم تطويرها في صناعة واحدة غالبًا ما تجد نفسها تُطبق على نطاق واسع في صناعات أخرى، حتى لو لم تكن مصممة أصلاً لها. وبالتالي، كشفت الإنترنت، التي تم تطويرها أصلاً للاستخدام العسكري، عن إمكانياتها الكاملة في المجال المدني، لتصبح جزءًا أساسيًا من الحياة الحديثة. قد تحدث اتجاهات مماثلة في الصناعة، حيث يمكن أن تستفيد التقنيات التي تم تطويرها لسيناريوهات المؤسسات أيضًا من المستخدمين النهائيين.

تطورت التحكم في المنزل والروبوتات الصناعية بشكل منفصل تاريخيًا. نظرًا لتكلفتها العالية والمخاوف من السلامة، كانت الروبوتات الصناعية محدودة أساسًا للإنتاج على نطاق واسع. كان البرنامج الذي يدير الإنتاج مقيدًا داخل أنظمة التنفيذ التصنيعي الخاصة وأنظمة التصنيع المعززة بالحاسوب. كانت التحكم في المنزل في نفس الوقت عادة ما تمثل نظامًا لأجهزة بسيطة نسبيًا للتفاعل مع أجهزة المستخدم، والأجهزة المنزلية، والإضاءة، والتدفئة، والاتصالات. كان التركيز في الاتصال على الاتصال اللاسلكي.

ومع ذلك، نحن نرى اتجاهات. من جهة، تتم تكييف بروتوكولات الاتصال اللاسلكية من النطاق الاستهلاكي تدريجيًا لتطبيقات صناعية — على سبيل المثال، تظهر الإصدارات الصناعية من الواي فاي أو البلوتوث. من ناحية أخرى، تصبح الروبوتات المناولة أكثر توفرًا ويتم البدء في النظر في استخدامها خارج الصناعة. حتى الآن، يمكننا التفكير في كيف ستصبح الروبوتات التعاونية الآمنة، على سبيل المثال، جزءًا أساسيًا من المنزل في المستقبل وستتمكن من جعل حياتنا أكثر راحة، مساعدة في الطهي وغيرها من الأعمال المنزلية الروتينية. أيضًا، تنفيذات مصدر مفتوح لبروتوكولات الاتصال الصناعية — مثل بروتوكول الوسيطة DDS تحتتثبيت إطار ROS 2 — أصبح إرثًا لهواة من جميع أنحاء العالم.

تم تطوير ROS 1 لإدارة الروبوت الفردي ولم يتمكن من تلبية متطلبات شركات التصنيع: التشغيل في الوقت الحقيقي، ومقاومة الأعطال في ظروف الاتصال غير المستقرة، والتفاعل مع عدد كبير من الأجهزة. بدأ بالتالي تطوير ROS 2، الذي كان موجهًا أصلاً خصيصًا لاحتياجات الصناعة وأصبح الآن شائعًا في مجال الروبوتات. في منتصف عام 2023، حدث حدث مهم — بعد 5 سنوات من ظهور ROS 2 Dashing في عام 2019، تجاوز عدد حزم ROS 2 المستخدمة من قبل المهندسين، وفقًا لـ [metrics.ros.org](https://metrics.ros.org/packages_rosdistro.html)، حزم ROS 1، والآن حوالي 70% من حزم البرامج التي تم تنزيلها من المستودعات الرسمية هي لـ ROS 2.

## مزايا ROS 2 لسيناريوهات الأتمتة المنزلية

فريق Robonomics هو في طليعة هذه العملية ويدعم بنشاط مجتمع ROS 2. بدعمنا، يتم تطوير ربط ROS 2 لـ Rust (انظر [في مدونتنا](https://robonomics.network/blog/ros-2-rust-report-2022/))، بالإضافة إلى [ROS 2 Wrapper](https://github.com/Fingerling42/robonomics-ros2) لاستخدام الوظائف الرئيسية لسحابة Robonomics المركزية. نحن أيضًا نختبر بانتظام الأجهزة التي تدعم ROS 2، لفحص برنامجنا بشكل خاص على هذه الأجهزة. كأحد هذه الروبوتات، اقتنينا مؤخرًا myBuddy 280 — جهاز تلاعب ذو ذراعين مزدوجة بأسعار معقولة للتدريب والبحث من [Elephant Robotics](https://www.elephantrobotics.com/en/). يمكن للروبوت رفع ما يصل إلى حوالي 250 جرامًا ويبلغ سعره حوالي 1700 دولار، مما يجعله ميسور التكلفة نسبيًا للمستخدمين لأول مرة.

<RbImage zoom src="/blog/images/automation-home-meets-industrial-mybuddy280/pic_1_myBuddy_280.png" alt="روبوت myBuddy 280 ذو الذراعين المزدوجة" />

من خلال مثال هذا الروبوت، يمكن رؤية مزايا ROS 2 بوضوح شديد، مما يسمح باستخدام إطار العمل هذا في سيناريوهات الأتمتة المنزلية. على وجه الخصوص، بفضل بروتوكول وسيط DDS، يمكنك استخدام myBuddy بالتزامن مع جهاز كمبيوتر سطح المكتب ذو أداء عالٍ نسبيًا وإضافة روبوت كامل إلى هيكل منزل ذكي نموذجي. إذا تم ربط الروبوت والكمبيوتر عبر العندما يكون الروبوتين على نفس الشبكة المحلية ويستخدمان نفس [مُعرّف النطاق](https://docs.ros.org/en/rolling/Concepts/Intermediate/About-Domain-ID.html)، يمكنهما التواصل دون أي تكوين إضافي. يعمل البرنامج الأساسي مثل السائق وحزم وصف الأجهزة على Raspberry Pi للروبوت. يمكن تشغيل بقية برامج التطبيقات المطلوبة مثل منظمي الحركة "الذكية" مثل MoveIt، ومحاكيات مثل Gazebo، وأدوات المراقبة والتصور مثل RViz، وعقدة Robonomics، وتعلم الآلة، ومعالجة السجلات بالدُفعات، وعقدة نقل البيانات الموزعة IPFS وغيرها من المهام التي تتطلب كمية كبيرة من الطاقة الحسابية على هذا الجهاز الأكثر قوة.

تتيح هذه الترتيبات توزيعًا أمثل للموارد الحسابية، مما يخلق أساسًا لهندسة معمارية تشبه الخدمات الصغيرة. بفضل منصة ROS 2 وبروتوكول DDS الوسيط الذي يكمن أسفله، يصبح هذا المرونة ممكنًا، مما يسمح لكل جهاز بأداء المهام التي تناسب قدراته بشكل أفضل. من خلال آليات كشف الأجهزة التلقائية المدمجة في DDS، ستجد مواضيع وخدمات ROS 2 بعضها البعض دون أي إعدادات إضافية.

<RbImage zoom src="/blog/images/automation-home-meets-industrial-mybuddy280/pic_2_ros2_dds_smart_home.png" alt="منزل ذكي مع ROS 2 و DDS" />

يجب أيضًا الإشارة إلى أن تصميم ROS 2 يعني فصل بروتوكول النقل (مثل DDS) إلى طبقة متميزة تُسمى وسيط ROS، مما يجعل التبديل من تنفيذ بروتوكول إلى آخر أمرًا أسهل. وبالتالي، بعد مناقشات طويلة، قررت مؤخرًا مجتمع ROS التبديل إلى بروتوكول أخف وزنًا يُسمى Zenoh، والذي من المقرر تنفيذه في عام 2024. للمزيد من التفاصيل حول هذا الموضوع، نوصي بالرجوع إلى [تقرير بدائل وسيط ROS 2](https://discourse.ros.org/uploads/short-url/o9ihvSjCwB8LkzRklpKdeesRTDi.pdf)، الذي يحتوي على معلومات حول جميع بدائل DDS التي تم النظر فيها في عام 2023.

## مغامرات myBuddy وسائق Robonomics المتوافق

على الرغم من أن myBuddy 280 تم تسويقه على أنه متوافق مع ROS 2، إلا أنه تبين أنه غير كافٍ للتشغيل الكامل في ROS 2 (حتى بدون برنامج تخطيط الحركة مثل MoveIt2). أولاً، كان علينا استبدال نموذج Raspberry Pi 4B الذي تم توريده افتراضيًا بنموذج أكثر قوة يحتوي على 8 غيغابايت من ذاكرة الوصول العشوائي لتلبية احتياجاتنا. ثانيًا، بعد اختبار حزمة ROS 2 لـ myBuddy من الشركة المصنعة، واجهنا مشاكل. كما هو شائعفي عالم مصدر مفتوح، لا يضمن نشر شيء في مستودع عام وظيفته. تم تثبيت الروبوت مسبقًا بتوزيع ROS 2 Galactic الذي لم يعد مدعومًا حاليًا، والذي انتهى صلاحيته في عام 2022 (بالمناسبة، يمكنك قراءة فترات الدعم للتوزيعات [هنا](https://docs.ros.org/en/rolling/Releases.html)). على الرغم من كل شيء، حاولنا تشغيل الروبوت على التوزيع القديم وواجهنا بسرعة ما يسمى بالمأزق — وهو سلوك يتم فيه تعليق البرامج الفرعية المشغلة (أو العمليات الحسابية) بعضها البعض. بعد بعض الأبحاث، اكتشفنا أن هذه الأخطاء تمت معالجتها في توزيع LTS من ROS 2 Humble.

لسوء الحظ، توقف مطورو Elephant Robotics عن تحديث الحزم منذ سنوات عدة، والأهم من ذلك، لم يتم نقل جميع الحزم الضرورية للروبوت من ROS 1 إلى ROS 2. لذا، قررنا تولي هذه المهمة بأنفسنا. نظرًا لعدم توفر واجهة برمجة تطبيقات منخفضة المستوى لـ ROS 2، وجدنا أنه من الأسهل تطوير تنفيذنا الخاص لحزمة ROS 2 [هنا](https://github.com/Fingerling42/mybuddy280-ros2-robonomics)، حيث يمكننا إضافة التحكم في myBuddy من خلال Robonomics. لهذا الغرض، اعتمدنا على وحدة Python [pymycobot](https://pypi.org/project/pymycobot/) ونفذنا برنامج تشغيل ROS 2 الخاص بنا.

يمكن لبرنامج التشغيل المخصص الحالي الحصول على حالات كل مفصل لكل من الذراعين والمعصم، بالإضافة إلى إرسال زوايا إليها، ونشر حالات مفاصل الروبوت باستخدام بيانات سجل Robonomics والتحكم في المفاصل عن بُعد عن طريق إرسال وظيفة إلى عنوان الروبوت. إذا كنت ترغب في تجربته، يرجى ملاحظة أن تحديث إصدار ROS 2 عن طريق إعادة تثبيت صورة جديدة مع حزم على Raspberry Pi 4B قد يستغرق وقتًا كبيرًا (حوالي 2-4 ساعات).

في المستقبل، نخطط لتوسيع وظائف البرنامج التشغيلي وتوفير التحكم عن بُعد في هذا الروبوت من خلال Robonomics داخل مختبرنا في قبرص. كما نرغب في تضمين Robonomics ROS 2 Wrapper في القائمة الرسمية لحزم rosdistro، بحيث يمكن للمستخدمين تثبيته تلقائيًا عند تهيئة مشروع ROS 2.

ترقبوا تحديثاتنا!