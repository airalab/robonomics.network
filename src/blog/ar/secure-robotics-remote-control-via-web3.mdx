---
title: "التحكم عن بُعد في الروبوتات بشكل آمن: حلاً من روبونوميكس"
date: 2024-04-19
published: true
locale: 'ar'
cover_image: /blog/images/secure-robotics-remote-control-via-web3/remote_control_cover.png
description: "الاتصال والتحكم عن بُعد في جهازك الذكي الخاص هو ميزة شائعة جدًا بين المستخدمين. ومع ذلك، فإن مثل هذه المهمة البسيطة تسبب الكثير من الصعوبات للمستخدمين غير المتمرسين - بدءًا من التغلب على NAT وصولاً إلى قضايا الأمان. في مقال جديد، سنوضح كيف يمكن التغلب على هذه الصعوبات بمساعدة روبونوميكس."
related: ['Robonomics Helps Enable Rust for ROS 2', 'Automation: Home meets Industrial']
abstract: "الاتصال والتحكم عن بُعد في جهازك الذكي الخاص هو ميزة شائعة جدًا بين المستخدمين. ومع ذلك، فإن مثل هذه المهمة البسيطة تسبب الكثير من الصعوبات للمستخدمين غير المتمرسين - بدءًا من التغلب على NAT وصولاً إلى قضايا الأمان. في مقال جديد، سنوضح كيف يمكن التغلب على هذه الصعوبات بمساعدة روبونوميكس."
tags: ['ROS 2', 'المنزل الذكي']
---

في المقال السابق، تحدثنا عن كيفية استخدام مزايا الحلول الصناعية في بنية منزل ذكي مُروَب. أظهرنا كيفية توفير اكتشاف الجهاز التلقائي والتفاعل المكثف (بما في ذلك في الوقت الحقيقي) بينها داخل شبكة محلية، وهو أمر مريح للغاية. ومع ذلك، هذا النهج مناسب بشكل رئيسي لما يُسمى بالمنطقة الموثوق بها - تلك الجزء من الشبكة الكمبيوترية حيث من غير المرجح ظهور أي جهات خارجية. في هذه الحالة، نثق في جميع البرامج التي تعمل ولا نحتاج إلى استخدام التشفير بنفس الطريقة التي لا يتم فيها استخدامه ضمن كمبيوتر واحد عندما تتبادل البرامج البيانات مع بعضها البعض.

ولكن ماذا لو كنت بحاجة إلى ضمان تشغيل أجهزة ROS 2 مع خدمة خارجية معينة أو توفير الوصول عن بُعد إليها من الخارج؟ في تلك اللحظات، ينشأ مشكلة أمان - بعد الحصول على وصول إلى واحدة من عقد ROS 2، تحصل الخدمة الخارجية (وبشكل محتمل الشخص الضار) بشكل أساسي على وصول إلى جميع العقد الأخرى - يمكنها الاستماع تمامًا إلى جميع حركة DDS الداخلية والوصول إلى جميع خدمات النظام المتاحة.

يتم حل التضاد الكلاسيكي بين الأمان والسرعة/الراحة من خلال تقسيم نظام المنزل الذكي السيادي إلى جزئين - آمن وغير آمن.

## أمان ROS 2

تعتبر تعيين منطقة تتطلب متطلبات أمان خاصة في مساحة عمل عقد ROS 2 مهمة غير تقليدية تمامًا. يوفر حزمة الأمان القياسية لـ ROS 2 (sros2) [https://docs.ros.org/ar/rolling/Concepts/Intermediate/About-Security.html)) هو جزء من [ros-core](https://ros.org/reps/rep-2001.html#id32)، الذي يتم بناء جميع توزيعات ROS 2 عليه، ووفقًا للمطورين الأساسيين، يهدف إلى حل هذه المشكلة. يوفر القدرة على إعداد بنية تحتية للمفاتيح العامة (PKI) نسبيًا بسيطة داخل شبكة محلية واحدة. لكل عقدة ROS 2، يتم تعيين سياسات الوصول إلى بيانات العقد الأخرى، بالإضافة إلى مجموعة من الملفات القياسية لمثل هذه السيناريوهات - المفاتيح التشفيرية والشهادات. أثناء تنفيذ البرنامج، ترى العقد "فقط" تلك مصادر البيانات التي يتم الوصول إليها بوضوح في التكوين في مرحلة إطلاق المشروع. ومع ذلك، هذا النهج له عيب كبير - جميع حركة المرور في النظام مشفرة، مما قد يؤثر على الأداء تحت الحمل الشبكي الذي يتم إنشاؤه بواسطة DDS. سيكون من الضروري كتابة جميع سياسات الوصول وتوليد مفاتيح لجميع العقد. هذا من الصعب جدًا إعداده وصيانته. والأهم من ذلك، نحن نخسر الميزة الرئيسية لـ ROS 2 Middleware - الأداء.

## الجسور

حلا آخر هو إنشاء ما يسمى بالبوابات، التي تنقل البيانات اللازمة مع الحفاظ على كل شيء آخر خاص. عادةً ما يتم تحقيق ذلك باستخدام أنفاق VPN أو SSH. يتم إنشاء عقدة منفصلة في مساحة تبادل البيانات الآمنة، والتي تحتوي على عنوان عام للاتصالات الخارجية. في هذه الحالة، يتم إدارة الأمان فقط على مستوى هذه العقدة (وهي في الأساس نافذة إلى العالم الخارجي)، دون التأثير على جميع الآخرين. يتم استخدام هذا النهج في مشاريع [Husarnet](https://github.com/husarnet/husarnet)، [DDS Router](https://github.com/eProsima/DDS-Router) و [Zenoh Bridge](https://github.com/eclipse-zenoh/zenoh-plugin-ros2dds)، ولكن لديه أيضًا عيوبه. في هذا السيناريو، يجب إنشاء قناة اتصال آمنة مرتبطة بشكل صارم بعنوان IP أو اسم النطاق للطرف الثاني. يمكن أن تتغير هذه، تصبح محظورة، أو تكون عرضة للهجمات. في الوقت الذي تم إنشاء فيه SSH، لم يُعتبر ذلك. بالإضافة إلى ذلك، يعتمد SSH في المقام الأول على نظام التحكم في الوصول لنظام التشغيل، مع جميع عيوبه الجوهرية.

<RbImage zoom src="/blog/images/secure-robotics-remote-control-via-web3/remote_control_legacy_approach.png" alt="التحكم عن بُعد الكلاسيكي عبر عنوان IP عام و SSH/VPN" />

*ها هي الطريقة التي يتصل بها المستخدمون عادة بروبوتاتهم عن بعد في الوقت الحالي. ومع ذلك، هذا النهج يأتي مع بعض العيوب. إذ يتطلب عنوان IP عامًا و/أو اسم DNS، والتي يمكن حظرها في بعض البلدان. كما يتطلب تخزين مفاتيح خاصة إضافية في أماكن غير آمنة بالإمكان (على سبيل المثال، ~/.ssh).*

يتطلب بروتوكول SSH، الذي يستخدم بشكل أساسي من قبل مسؤولي النظام وأخصائيي تكنولوجيا المعلومات، معرفة أساسية بسطر الأوامر Bash والثقة في نظام التشغيل، حيث تُخزن مفاتيح التشفير مباشرة في نظام الملفات أو وكيل SSH. يظل إدارة مفاتيح الوصول مهمة معقدة نسبيًا بالنسبة للمستخدم العادي للبقاء على طريقة آمنة لحماية بياناته.

## حل Web3

كما نرى، الطرق المذكورة أعلاه ليست بدون عيوب، لذا سننظر في حل محتمل للمشكلة باستخدام تقنيات الشبكات الند للند، التي يُبنى عليها Robonomics. في هذه الحالة، يمكن اعتبار السحابة اللامركزية لـ Robonomics كجدول توجيه آمن، حيث عناوين الأطراف المعنية فيه هي المفاتيح العامة للعقد. تحتاج إلى عقدة Robonomics محلية ومعرفة أي مفتاح عام يمتلكه الطرف المعني، لكي لا تعتمد على نظام DNS (بما في ذلك مسجلي أسماء النطاقات والخوادم) وحظر عناوين IP. يمكن لمكتبة [libP2P](https://libp2p.io/)، التي يستخدمها Robonomics، استخدام بروتوكولات نقل مختلفة لتوصيل الرسائل.

وعلاوة على ذلك، مع تقدم تقنيات Web3، ظهرت طرق أكثر كفاءة لإدارة المعلومات الحرجة، بما في ذلك المفاتيح الخاصة. أحد هذه الطرق هو العبارة الذاكرية أو البذرة - مجموعة من 12 أو 24 كلمة، تُستخدم لإنشاء حسابات في الشبكات اللامركزية. هذه الطريقة مريحة وآمنة، حيث تُكتب البذرة على وسيط خارجي (على سبيل المثال، على الورق) مرة واحدة أثناء التهيئة وتُستخدم فقط لاستعادة الحساب. يتم إنشاء مفتاح رئيسي من العبارة الذاكرية، منه يمكن إنشاء أي تسلسل مفاتيح لمهام مختلفة (انظر **[مفاتيح التسلسل التحديدية الهرمية](https://docs.substrate.io/reference/command-line-tools/subkey/#hierarchical-deterministic-keys)**). يبسط هذا إدارة المفاتيح واستعادتها إذا فُقدت. إذا حصل شخص خبيث على إحدى أزواج المفاتيح الخاصة بك، فلن يتمكن من الحصول على معلومات حول المفاتيح الأخرى التي تم إنشاؤها من العبارة الذاكرية. يسمح ميزة المفتاح المشتق بتأكيد ملكية الحساب الجذري دون الكشف عنه. نظرًا لأن يمكن استنتاج المفاتيح المشتقة باستخدام المفتاح العام الأصلي، يمكن استخدامها لتحديد الحساب الأصلي.مفتاح بدون الكشف عن بعد البذرة الأصلية.

## التحكم عن بعد في Home Assistant

لنفحص عملية الاتصال بمزيد من التفصيل. تعمل التطبيقات المركزية [Robonomics](https://robonomics.app/) (أو ما يُعرف بـ DApp) مباشرة في متصفحك، ولا تتطلب منك تثبيت أي برنامج إضافي أو الحاجة إلى تخزين المفاتيح في نظام الملفات في بيئة تضم عددًا كبيرًا من البرامج، والأمان الخاص بها لا يمكنك التأكد منه. يتم إدارة إدارة مفتاح الوصول من خلال تمديد Polkadot JS، بالإضافة إلى استخدام تخزين مفتاح خارجي (على سبيل المثال، [Polkadot Vault](https://wiki.polkadot.network/docs/polkadot-vault)) لضمان الموثوقية الإضافية. بالإضافة إلى البرامج المتخصصة للتفاعل مع Robonomics، يتضمن DApp أيضًا عقدة libP2P خفيفة الوزن، التي يتم من خلالها الاتصال بـ Home Assistant.

<RbImage zoom src="/blog/images/secure-robotics-remote-control-via-web3/robonomics_home_assistant_usecase.png" alt="Home Assistant Remote Control" />

يدير صاحب اشتراك خدمة الويب Robonomics حقوق الوصول إلى بنية البيت الذكي من خلال ما يُعرف بالتحكم - حساب يدير جميع المعلومات الحساسة بشكل مشفر في نسخة رقمية. يمكن للمستخدمين المضافين إلى الاشتراك فقط فك تشفير هذه البيانات. بالإضافة إلى مفاتيح الوصول، تخزن النسخة الرقمية أيضًا تكوين DApp وما يُعرف بـ libP2P multi-address الذي يتصل به DApp لاتصال آمن. Multi-address هو أحد تلك الابتكارات التي تجعل نهج libP2P فريدًا ومرنًا. هذا هو تنسيق خاص لعنوان العقدات، الذي يفترض وجود العديد من عناوين IP ومعرفات النقل والشبكة والبروتوكولات والمنافذ، التي يمكنك من خلالها الاتصال بعقدة معينة. يتم تقديم قائمة كاملة بالبروتوكولات المدعومة في الـ [المواصفات](https://github.com/multiformats/multiaddr/blob/master/protocols.csv).

لذلك، يستخرج المستخدم المضاف إلى الاشتراك multi-address من النسخة الرقمية لـ Robonomics وينشئ اتصالًا آمنًا مع Peer ID يعرفه فقط. نجاحًا!

## التحكم عن بعد في ROS 2

بنفس الطريقة، يمكنك استخدام ميزات Robonomics الحالية للتفاعل مع الروبوتات. قام فريق Robossembler، ضمن برنامج منح Robonomics، بتطوير مشروع Proof of Concept المعروف باسم [Robonomics Bridge](https://gitlab.com/robossembler/robonomics_bridge). يتيح هذا الجسريمكن لعقد ROS 2 الخاص بك أن يتصل بأي خدمة خارجية أو محطة عمل عن بُعد أو نظام ROS 2 آخر.

<RbImage zoom src="/blog/images/secure-robotics-remote-control-via-web3/robonomics_ros2_usecase.png" alt="التحكم عن بُعد في ROS 2 باستخدام Robonomics" />

*رسم توضيحي لكيفية التحكم عن بُعد في روبوت منزلي في حالة ROS 2. توفر هذه الطريقة عددًا كبيرًا من المزايا الهامة: لا حاجة لعنوان IP عام، والوصول إلى الروبوت متاح حتى من خلال جدران الحماية الشبكية (NAT)، ولا تُخزن المفاتيح التشفيرية الخاصة على القرص وتكون محمية بشكل موثوق.*

البروتوكول المستخدم في ROS 2، DDS، يتوافق بشكل طبيعي مع libP2P بسبب نموذجه المشترك بين الناشر والمشترك لتفاعل العقد. بمساعدة جسر Robonomics، يمكن تكوين عقد ROS 2 وواجهاتها - المواضيع، والخدمات، وأنواع الرسائل (على سبيل المثال، باستخدام خدمة التكامل eProsima) بشكل تصريحي، من خلاله يمكن التفاعل مع الروبوت من الخارج. كما يسمح هذا أيضًا بمستوى إضافي من الأمان عند الاتصال بجهاز كمبيوتر عن بُعد. يمكن أن يكون آلية الحصول على PeerID للطرف الآخر هي نفسها كما في حالة Home Assistant - من خلال طلب Digital Twin من عقد Robonomics، مع الاختلاف الوحيد أنه بدلاً من خادم Home Assistant سيكون هناك روبوت ROS 2، وبدلاً من libP2P-websocker-proxy سيكون هناك Robonomics ROS 2 Wrapper متصل بالروبوت.

## الفرص المحتملة في المستقبل

ومع ذلك، هذه ليست جميع الإمكانيات التي يمكن أن تقدمها سحابة مركزية متمركزة على تقنيات Web3. في المثال الموضح أعلاه، يتم استخدام هذه التقنيات لنقل بيانات الرسائل بين أجهزة الكمبيوتر عن بُعد بشكل نسبي بسيط.

يمكن تسميتها بمستوى النقل الأساسي في كومة شبكة Robonomics، والتي تعتبر أساسًا لتنفيذ بروتوكولات أعلى مستوى أكثر تعقيدًا. بدءًا من الأنماط المماثلة لبروتوكول SSH، التي تفترض تفاعلًا أكثر تفاعلية للمستخدمين مع أنظمتهم السيبرية-فيزيائية، وانتهاءً ببروتوكولات التطبيق التي تفترض تفاعل عدد كبير من مستخدمي البنية التحتية الروبوتية المستقلة.

على سبيل المثال، يمكن ربط قرار بدء إنتاج منتج مع التصويت داخل منظمة المستهلكين المحتملين لهذا المنتج، مع مراعاة الجدوى الاقتصادية. حاليًا، يتم اتخاذ قرار ببدء أي إنتاج من خلال آليات الاستثمار، حيث يمكن للمستثمرين، بعد الحصول على معلومات حول الطلب المحتمل، اقتناء حصص في الشركات الفردية التي يمكن أن تلبي هذا الطلب في المستقبل. إذا كان يمكن للمستهلكين المشاركة بشكل أكثر فعالية في تطوير وتسعير المنتجات الجديدة، فإنه في المدى الطويل يمكننا الانتقال إلى وضع تشغيلي يتم فيه إعادة هيكلة الإنتاج تلقائيًا لتلبية الطلب وفقًا للبيانات المقدمة من قبل المستهلكين إلى الشبكة.