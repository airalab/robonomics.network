---
title: Το Robonomics βοηθάει στην ενεργοποίηση του Rust για το ROS 2
date: 2022-12-29
published: true
locale: 'el'
tags: ['ROS 2', 'Περιπτώσεις Χρήσης', 'Συνεργασίες']
cover_image: /blog/images/ros-2-rust-report-2022/cover.jpg
description: "Αυτή είναι η ιστορία της συνεργασίας μας με τον Esteve Fernandez, πρώην μέλος της αρχικής ομάδας που δημιούργησε το Robot Operating System 2. Εδώ και αρκετά χρόνια αναπτύσσει δεσμεύσεις Rust για το ROS 2. Θέλουμε να μοιραστούμε την ιστορία αυτού του έργου, να εξηγήσουμε πώς βοηθήσαμε τον Esteve και γιατί η χρήση του Rust είναι χρήσιμη για εφαρμογές ρομποτικής."
abstract: "Αυτή είναι η ιστορία της συνεργασίας μας με τον Esteve Fernandez, πρώην μέλος της αρχικής ομάδας που δημιούργησε το Robot Operating System 2. Εδώ και αρκετά χρόνια αναπτύσσει δεσμεύσεις Rust για το ROS 2. Θέλουμε να μοιραστούμε την ιστορία αυτού του έργου, να εξηγήσουμε πώς βοηθήσαμε τον Esteve και γιατί η χρήση του Rust είναι χρήσιμη για εφαρμογές ρομποτικής."
---

## Από το ROS 1 στο ROS 2

Το ROS δημιουργήθηκε αρχικά ως περιβάλλον ανάπτυξης για συγκεκριμένους τύπους ρομπότ. Κυρίως, η πρώτη έκδοση του λειτουργικού συστήματος ήταν προορισμένη για μονά ρομπότ με υπολογιστικούς πόρους εντός του σκάφους και μια αξιόπιστη δικτυακή σύνδεση χωρίς την ανάγκη για ελέγχους πραγματικού χρόνου. Αντίστοιχα, οι προγραμματιστές σκέφτονταν αρχικά ότι το ROS 1 θα ήταν καλύτερα κατάλληλο για εφαρμογές έρευνας και ακαδημαϊκές εφαρμογές.

Ωστόσο, το ROS τελικά ξεπέρασε την ερευνητική κοινότητα και υιοθετήθηκε για εμπορική χρήση. Για να ανταποκριθεί στις ανάγκες νέων περιπτώσεων χρήσης, οι προγραμματιστές ξεκίνησαν να προσθέτουν νέες λειτουργίες, όπως υποστήριξη για πολλαπλά ρομπότ και μικρά ενσωματωμένα συστήματα, καθώς και ολοκλήρωση με πραγματικό χρόνο. Αποφάσισαν επίσης να βελτιώσουν το API και να ενσωματώσουν νέες τεχνολογίες που είχαν εμφανιστεί μετά την κυκλοφορία του ROS 1. Ταυτόχρονα, επέλεξαν να μην αλλάξουν την υπάρχουσα έκδοση του Λειτουργικού Συστήματος Ρομπότ, καθώς αυτό θα είχε μεγάλη επίπτωση στις υπάρχουσες εφαρμογές. Έτσι γεννήθηκε το [ROS 2](https://design.ros2.org/).

## Σχετικά με τον Esteve

Ο Esteve ήταν ένα από τα αρχικά μέλη της ομάδας που [ξεκίνησε την ανάπτυξη](https://www.ros.org/news/2016/04/dirk-thomas-esteve-fernandez-and-william-woodall-osrf-state-of-ros-2.html) της δεύτερης έκδοσης του ROS. Είναι μηχανικός ρομποτικής με περισσότερα από δύο δεκαετίες εμπειρίας στην ανάπτυξη λογισμικού ανοικτού κώδικα και αυτόνομων οχημάτων. Ακόμα και μετά την αποχώρησή του από τον πυρήναΟ ομάδα του ROS 2 συνέχισε να συνεισφέρει ενεργά στα αποθετήρια του έργου.

Ένας από τους προσωπικούς στόχους του Esteve ήταν να αναπτύξει έργα που επιτρέπουν στους προγραμματιστές να γράφουν εφαρμογές ROS 2 σε Rust (δεσμεύσεις, γεννήτρια κώδικα και άλλα), παρέχοντάς τους ένα ισχυρό εργαλείο για τη δημιουργία αποδοτικών, αξιόπιστων προγραμμάτων ρομποτικής. Ωστόσο, το έργο αναπτύχθηκε αρκετά αργά αρχικά, καθώς ο Esteve εργαζόταν σχεδόν μόνος του για 4 χρόνια, στον ελεύθερο του χρόνο.

Πριν περίπου ένα χρόνο και μισό, συναντήσαμε τον Esteve και συμφωνήσαμε να τον βοηθήσουμε στην ανάπτυξη του ros2-rust. Χάρη σε αυτό, ο Esteve μπόρεσε να διαθέσει επιπλέον χρόνο για την εργασία στο έργο και να τραβήξει περισσότερη προσοχή σε αυτό. Η κοινότητα ROS2 στο Rust έχει μεγαλώσει, και άλλοι έχουν αρχίσει επίσης να συνεισφέρουν στο έργο με αναθεωρήσεις από τον Esteve. Τώρα το [κύριο αποθετήριο](https://github.com/ros2-rust/ros2_rust) έχει 27 συνεισφέροντες, 75 αντιγράφων και 466 αστέρια στο Github.

## Πρόοδος της Ανάπτυξης

Προς το παρόν, το ros2-rust έχει ήδη υλοποιήσει υποστήριξη για τη δημιουργία μηνυμάτων, μηχανισμό εκδότη/συνδρομητή, πελάτες και υπηρεσίες. Ένας από τους μεγάλους μας στόχους είναι να αναπτύξουμε το Robonomics ως ROS 2 Middleware, και αυτό απαιτεί την προσθήκη ενός επιπέδου μεταφοράς Robonomics για το ros2-rust. Για την υλοποίηση αυτής της λειτουργικότητας, προστίθεται υποστήριξη για τη βιβλιοθήκη επικοινωνίας libP2P αντί της τυπικής Υπηρεσίας Διανομής Δεδομένων (DDS) για το ROS2. Η DDS παρέχει ένα μεταφοράς εκδότη-συνδρομητή σε έναν κατανεμημένο τρόπο ανακάλυψης, επιτρέποντας σε οποιαδήποτε δύο προγράμματα να επικοινωνούν χωρίς την ανάγκη για ένα κεντρικό εργαλείο όπως το ROS master. Ωστόσο, η DDS απαιτεί την ανάπτυξη ενός επιπλέον γέφυρας για την προσθήκη του Robonomics στο ROS2, ενώ η libP2P επιτρέπει τη φυσική ενσωμάτωση του Robonomics.

![ros-2-stack](/blog/images/ros-2-rust-report-2022/ros-client-library-api-stack.png)

*Διάγραμμα της στοίβας API βιβλιοθήκης πελάτη ROS που δείχνει τη θέση του ROS 2 Middleware (rmw). Πηγή: [Τεκμηρίωση ROS 2](https://docs.ros.org/en/foxy/Concepts/About-Internal-Interfaces.html)*

## Γιατί ROS2 σε Rust;

Εκτός από την κύρια γλώσσα για το Robonomics στο Substrate, το Rust έχει σημαντικά πλεονεκτήματα για ρομποτικές εφαρμογές.

Γενικά, για τις πιο δημοφιλείς ρομποτικές πλατφόρμες που προορίζονται για εμπορική χρήση και μεγάλη κλιμάκωση, χρησιμοποιείται η C++, και γι' αυτό προστέθηκε πρώτα για το ROS. Αυτό οφείλεται στην ικανότητά του να λειτουργεί «κοντά στοΤο "hardware" και η καταλληλότητά του για ρομποτικές εφαρμογές με περιορισμένους υπολογιστικούς πόρους. Ωστόσο, αυτό κάνει τη C++ πιο επικίνδυνη, καθώς είναι πολύ εύκολο να γίνει ένα κρίσιμο λάθος κατά τη διάρκεια της ανάπτυξης, και αυτά τα λάθη ανακαλύπτονται μόνο αργότερα σε πραγματικό (και χαλασμένο) "hardware".

Εδώ είναι όπου έρχονται τα πλεονεκτήματα της Rust. Επιτρέπει την ανάπτυξη σε χαμηλό επίπεδο, όπως η C++, αλλά με προστιθέμενη ασφάλεια μνήμης. Αυτή η ασφάλεια έρχεται χωρίς επιπλέον κόστος εκτέλεσης, διατηρώντας την υψηλή ταχύτητα εκτέλεσης της εφαρμογής. Επιπλέον, η Rust καθιστά την ανάπτυξη πολύπλοκων και επικίνδυνων ρομποτικών έργων πιο αποδοτική.

## Μελλοντικά Σχέδια

Στο εγγύς μέλλον, η Esteve σχεδιάζει να προσθέσει ενέργειες (ασύγχρονες κλήσεις στη λειτουργικότητα ενός κόμβου) στο ros2-rust. Αυτές επιτρέπουν σε έναν πελάτη να παρακολουθεί την πρόοδο μιας αίτησης, να λάβει τον τελικό αποτέλεσμα και προαιρετικά να ακυρώσει την αίτηση πριν ολοκληρωθεί. Αυτό, ειδικά, επιτρέπει στους ρομπότ να δημιουργούν ερωτήματα, για παράδειγμα, για σκοπούς πλοήγησης και εντοπισμού θέσης.

Μακροπρόθεσμα σχέδια περιλαμβάνουν τη δημιουργία ενός πρωτοτύπου ROS 2 που θα ξεκινά στην κορυφή του Δικτύου Robonomics. Αυτό θα μας επιτρέψει να χρησιμοποιήσουμε το Robonomics στο Substrate για τη δημιουργία μιας εφαρμογής WebAssembly που μπορεί να εκτελέσει το ROS2 από ένα πρόγραμμα περιήγησης στο αποκεντρωμένο νέφος του Robonomics. Ανυπομονούμε για ένα νέο μάθημα στην [Ακαδημία Robonomics](https://robonomics.academy) αφιερωμένο στο ROS 2 και την άμεση λειτουργία από οποιοδήποτε πρόγραμμα περιήγησης!