---
title: ボストンダイナミクススポットのログをオーシャンデータトークンで収益化する
date: 2021-09-09
published: true
locale: 'ja'
cover_image: /blog/images/monetizing-logs-of-boston-dynamics-spot-with-ocean-datatokens/Robonomics_Ocean_p3_blog.jpg
description: "前回の記事では、Ocean APIとROSを接続するROSパッケージであるocean_rosを紹介し、ロボットからの技術ログの販売用途に一部触れました。今日は、この用途にさらに深く踏み込み、デバイスのデータトークン化の具体的な例を説明します。"
abstract: "オーシャンプロトコルとの新しい統合段階がやってきました。"
tags: ['コラボレーション', 'ユースケース']
---

オーシャンプロトコルとの新しい統合段階がやってきました。[前回の記事](/blog/ocean-protocol-p-2/)では、Ocean APIとROSを接続するROSパッケージであるocean_rosを紹介し、ロボットからの技術ログの販売用途に一部触れました。今日は、この用途にさらに深く踏み込み、デバイスのデータトークン化の具体的な例を説明します。

まず、このようなデータとそれから作成されるデータトークンがもたらす実用的な効用を理解する必要があります。ロボットやデバイスの運用中に得られるサービス情報は、アルゴリズムやユーザーエクスペリエンスを向上させるために常に再利用されています。しかし、この情報のほとんどはデバイスの製造元自体にとどまっています。同様の動作原理を持つデバイス（例：ロボット掃除機）が市場に登場したり、他のソリューションの基盤として位置付けられたオープンプラットフォームがリリースされたりすると、問題が発生します（例：Raspberry Pi、Arduino、ROSのTurtleBot）。前者の場合、世界中の多くの同様のデバイスが、特定のタスクに専用の膨大な量のデータを生成しています。後者の場合、オープンプラットフォームの開発者は、さまざまなタスクでプロジェクト内でユニークなデータセットを受け取ります。しかし、この経験は集約され共有されていません。これにより、システムの改善が制限され、制御プロセスで新しいアプローチを見つけるのが難しくなります。

例えば、マニピュレータの動作計画では、逆運動学が課題です。運動連鎖の関節パラメータを見つけて、連鎖の末端を目的の位置と姿勢に移動させる必要があります。つまり、アームの末端を移動させるためには、関節のパラメータを見つける必要があります。右の位置に移動するには、アームが持つすべての関節の位置を計算する必要があります。この問題はしばしば解析的または数値的に解決されますが、これらのアプローチには計算上の問題があることがあります。機械学習の台頭に伴い、[ニューラルネットワークアプローチ](https://doi.org/10.1016/j.protcy.2013.12.451)が逆運動学を解決するために使用されるようになりましたが、モデルのトレーニングには実際のデバイスの動きに関する情報を持つ[データセット](https://mint-lab.github.io/awesome-robotics-datasets/)が必要です。

このようなデータは収集され、関心を持つ人々に提供する必要があります。ここで[Ocean Protocol](https://oceanprotocol.com/)のデータトークンが登場します。これにより、このプロセスを自動化し、ロボットデータセットの市場を促進することができます。現在、このニッチは主にオープンデータセットによって占められていますが、ビジネスユースケースには品質が低いという主な欠点があります。では、ロボティックデータトークン化の例に移りましょう。

## ボストン・ダイナミクス・スポットがテレメトリーを販売する

Spotは、幅広いアプリケーションシナリオを持つ複雑な多目的プラットフォームの適切な例です。実際、実際のSpotテレメトリーを扱うことは非常に難しいため、これはロボット用のカスタムモジュールの開発を大幅に遅らせる可能性があります。特に開発者が機械学習を使用したい場合はさらに困難です。開発者が回復および研究できる操作の例はここで非常に役立つでしょうが、現時点では、特に米国外でのロボットの使用に関するデータは非常に少ないです。そのため、私たちは、Spotが同じ操作を実行する際に得られた実際のテレメトリーの高品質なログの供給業者になることを望んでいます。これにより、開発者は同じシナリオの複数の繰り返しレコードを取得し、独自のソリューションを開発または改善するのに役立つはずです。

## 実装

Ocean APIとの主な統合は、以前に作成したROSパッケージ[*ocean_ros*](https://github.com/LoSk-p/ocean_ros)によって提供されます。Spot SDKをROS抽象化とリンクし、このオペレーティングシステム内でロボットログを操作するために、Clearpath Roboticsが作成した[ドライバ](https://clearpathrobotics.com/assets/guides/melodic/spot-ros/ros_setup.html)を使用しています。Spotが任意のコマンドを実行した後、rosbag形式のファイルを取得します。/tf ROSトピックからのデータを使用すると、Spotフレームの位置関係が記述されます。フレームは、ロボットの部品や周囲のオブジェクトを表し、ロボットが技術的な視点で見ることができるものです。2つのフレーム間の関係は、2つのフレームの原点の位置の違いを記述する3要素の移動ベクトルと、2つのフレームの座標系の回転の違いを示す回転クォータニオンによって記述されます。各フレームの位置は親フレームに対して計算されます（例：ボディに対するヒップの相対位置）。初期フレームは、開始時点のSpotの位置です。

Spotが任意のコマンドを実行した後、/tf ROSトピックからのデータを含むrosbag形式のファイルを取得します。このデータは、Spotフレームの位置関係を記述します。フレームは、ロボットの部品や周囲のオブジェクトを表し、ロボットが技術的な視点で見ることができるものです。2つのフレーム間の関係は、2つのフレームの原点の位置の違いを記述する3要素の移動ベクトルと、2つのフレームの座標系の回転の違いを示す回転クォータニオンによって記述されます。各フレームの位置は親フレームに対して計算されます（例：ボディに対するヒップの相対位置）。初期フレームは、開始時点のSpotの位置です。

![Spotの異なる部分とフレーム間の関係のダイアグラム](/blog/images/monetizing-logs-of-boston-dynamics-spot-with-ocean-datatokens/spot-scheme.png)

*Spotの異なる部分とフレーム間の関係のダイアグラム。出典: https://dev.bostondynamics.com/docs/concepts/about_spot.html*

<YouTube id="https://youtu.be/6i9zYpCMzn8" posterQuality="max"/>

このビデオは、Spotテレメトリデータトークンの作成、販売、購入のコマンドシーケンスを示しています（ocean_rosパッケージの動作の詳細については、[こちら](https://www.youtube.com/watch?v=Ssit8-u6dZY)を参照してください）。なお、rosbagファイルは、データトークンを作成する際に使用されるハッシュリンクを介してIPFSファイルシステムに事前ロードされています。

![3Dロボットモデル上のSpot](/blog/images/monetizing-logs-of-boston-dynamics-spot-with-ocean-datatokens/Spot-on-a-3D-robot-model.jpg)

このビデオでは、これらのデータトークンの購入と、全体を復元する例も示されています。3DロボットモデルでSpotが実行するコマンドのシーケンス。これには、ROS用の[rviz](http://wiki.ros.org/rviz)可視化ツールを使用します。これにより、開発者はロボットにアクセスできなくても、実際のSpotテレメトリで作業できます。