---
title: "Журнал разработки Robossembler #1"
date: 2024-12-08
published: true
locale: 'ru'
cover_image: /blog/images/robossembler-dev-report-december-2024/Cover.webp
description: "В рамках проекта Robossembler прорабатываются доступные для любого DIY-энтузиаста промышленные роботы и инструменты для их производства. В этой статье мы поделимся текущими успехами - обновлённым и прошедшим испытания редуктором, 5-ой версией станка намотки и дополнительно оптимизированным под 3D-печать роботом-манипулятором!"
abstract: "В рамках проекта Robossembler прорабатываются доступные для любого DIY-энтузиаста промышленные роботы и инструменты для их производства. В этой статье мы поделимся текущими успехами - обновлённым и прошедшим испытания редуктором, 5-ой версией станка намотки и дополнительно оптимизированным под 3D-печать роботом-манипулятором!"
tags: ['Дорожная карта']
---

## Редуктор и сервопривод

Двигатель, как правило, сам по себе не обладает трубуемым усилием, чтобы повернуть или поднять какой-то тяжелый предмет в реальном мире, поэтому ему нужен редуктор или трансмиссия. Редуктор - это такая штука, которая позволяет преобразовать крутящий момент двигателя в выходное усилие. В нашем случае это было особенно значимо - печатный статор с DIN-винтами в качестве магнитопроводов в ходе испытаний показал себя в 3-4 раза слабее аналогов с цельнометаллическим статором из электротехнической стали.

<RbImage zoom src="/blog/images/robossembler-dev-report-december-2024/stator-photo_2024-12-08_00-03-21.webp" alt="" />

Следовательно, с таким не очень большим усилием требуется редуктор с высоким передаточным числом, а ещё, как и всё другое в Robossembler - быть простым в сборке и доступным для изготовления на принтере. Мы рассматривали многие модели редукторов, даже самые экзотические, и они все не подошли по отдельным критериям. Последним из претендентов был волновой редуктор с телами промежуточного качения. Он показал себя неплохо, но при этом оказался слишком сложен в изготовлении.

Тем не менее, после долгих экспериментов, оптимальная конструкция-таки была найдена! Им оказался прециссирующий редуктор с передаточным числом 1:43.

<RbImage zoom src="/blog/images/robossembler-dev-report-december-2024/reducer-photo_2024-12-07_21-54-20.webp" alt="" />

Посмотрите насколько он прост в сборке:

<iframe width="100%" height="500" src="https://www.youtube.com/embed/0vXwFmTB_L4?si=soNbSNKg9tjPWY1f" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

Редуктор уже прошёл ряд ключевых испытаний и тестов. Обратите внимание на вес сервопривода вместе с редуктором - всего 273 грамма, что соответствует классическому металлическому двигателю без редуктора и контроллера!

<RbImage zoom src="/blog/images/robossembler-dev-report-december-2024/reducer-photo_2024-12-08_14-02-33.webp" alt="" />

## Станок намотки

Четвёртая версия станка намотки в ходе испытаний показала себя неплохо и дала возможность намотать первые статоры в автоматическом режиме. Тем не менее, она была далека от идеала по стабильности и повторяемости результата. В пятой версии станка добавлено большое количество улучшений, из которых мы приведём лишь некоторые.

В 4 версии станок управлялся проприетарным контроллером шаговых двигателей от Creality. 5-ю версию станка мы спроектировали таким образом, чтобы можно было использовать RAMPS - контроллер из легендарного принтера RepRap.

<RbImage zoom src="/blog/images/robossembler-dev-report-december-2024/winder-photo_2024-12-07_21-50-12.webp" alt="" />

- Все детали станка были оптимизированы по массе - теперь для изготовления всех деталей станка требуется на 25% (!) меньше пластика. Большинство деталей теперь печатаются без поддержек
- Улучшена система подачи провода (который раньше был нестабилен): добавлен тормоз для катушки, увеличена глубина борозды под провод на колесе
- Переработаны корпуса: для дисплея и задняя крышка, закрывающая провод от пользователя
- Проект теперь действительно качественно оформлен: добавлен весь необходимый крепёж, спецификация с временем печати и расходом пластика для каждой детали, удалены все лишние плоскости, файлам и детялям даны осмысленные названия.

<RbImage zoom src="/blog/images/robossembler-dev-report-december-2024/winder-photo_2024-12-07_21-51-26.webp" alt="" />

В модель станка добавлен калибратор иглы, что существенно упростит пуско-наладку оборудования.

<RbImage zoom src="/blog/images/robossembler-dev-report-december-2024/winder-photo_2024-12-04_11-41-56.webp" alt="" />

Сейчас 5-я версия станка проходит испытания. Вместе с этим тестируется наша утилита для генерации намоточных программ. Ранее программа для станка была задана жёстко - под определённую модификацию нашего двигателя. Новый генератор GCode позволит быстро адаптировать управляющую программу для новых конструкций статоров.

## Робот-манипулятор

По мере готовности к производству мотора и редуктора, мы задумываемся и о оптимизации конструкции самого манипулятора. Да, он был изначально неплохо оптимизирован для 3D-печати. По крайней мере, мы так думали до того как в команде не появился 3D-технолог с 10-летним стажем. Он тут же выявил ряд моментов, которые следовало бы улучшить и мы взялись за эту работу. Мы попробовали добиться того, чтобы печать всех деталей была предсказумой даже на низко-бюджетных принтерах. Например, мы улучшили основные детали корпуса звеньев таким образом, чтобы они печатались практически без поддержек.

<RbImage zoom src="/blog/images/robossembler-dev-report-december-2024/3d-supports.webp" alt="" />

<RbImage zoom src="/blog/images/robossembler-dev-report-december-2024/roboarm-3d-optimize-photo_2024-11-20_15-56-53.webp" alt="" />

По запросу motion control программиста-робототехника из нашей команды была перепроектирована вилка - деталь, соединяющая приводные звенья мунипулятора в единую кинематическую "цепь". Предыдущая версия вилки обеспечивала лучший радиус рабочей зоны - с ней робот мог достать дальше. Однако, такая конструкция приводила к частым сингулярным положениям в ходе вычисления траектории движения, что затрудняло управление роботом в симуляции. Новая конструкция вилки лишена этого недостатка - кинематика робота теперь будет более оптимальной и больше напоминать Kuka Iiwa ;D.

<RbImage zoom src="/blog/images/robossembler-dev-report-december-2024/fork-roboarm-photo_2024-12-07_11-39-31.webp" alt="" />

Для эффективного управления роботом-манипулятором параллельно нами разрабатывается программное обеспечение на базе ROS 2 Humble (Jazzy тестируется) и Behaviour Tree CPP v4, который сейчас проходит испытания на AR4. Одна из главных инноваций: интенсивное использование узлов управления жизненным циклом для изменения параметров исполнения в runtime - например, конфигурация контроллеров или загрузка новых моделей весов нейросетей машинного зрения в режиме runtime. 

## Планы

В ближайшем будущем мы планируем:
- Выпустить новую версию захватного приспособления, в котором обновим двигатель, редуктор и реализуем сменяемость пальцев
- Испытать генератор GCode намоточного станка и испытания полностью автоматической намотки всего статора целиком
- Доделать 3D-оптимизацию основных узлов робота и сделать видео-демонстрацию его сборки
- Оптимизировать управление сервоприводом с точки зрения температурного режима и испытать его под нагрузкой в составе звена

Следите за обновлениями в моём блоге в [Telegram](https://t.me/robossembler_ru)!

## Исходные файлы чертежей и ПО

- Robossembler Arm - https://gitlab.com/robossembler/roboarm-diy-version
- Winding Machine: https://gitlab.com/robossembler/cnc/motor-wire-winder
- Servo - https://gitlab.com/robossembler/servo
- Grip Tool - https://gitlab.com/robossembler/arm-tools/grip-tool
- Robossembler ROS 2 runtime - https://gitlab.com/robossembler/robossembler-ros2