---
title: Монетизация журналов Boston Dynamics Spot с помощью Ocean Datatokens
date: 2021-09-09
published: true
locale: 'ru'
cover_image: /blog/images/monetizing-logs-of-boston-dynamics-spot-with-ocean-datatokens/Robonomics_Ocean_p3_blog.jpg
description: "В последней статье мы представили наш пакет ROS - ocean_ros, который соединяет Ocean API и ROS, а также частично затронули вариант использования для продажи технических журналов от роботов. Сегодня мы углубимся в этот вариант использования и опишем конкретный пример токенизации данных устройств."
abstract: "Пришло время для нового этапа интеграции с протоколом Ocean."
tags: ['Сотрудничество', 'Варианты использования']
---

Пришло время для нового этапа интеграции с протоколом Ocean. В [последней статье](/blog/ocean-protocol-p-2/), мы представили наш пакет ROS - ocean_ros, который соединяет Ocean API и ROS, а также частично затронули вариант использования для продажи технических журналов от роботов. Сегодня мы углубимся в этот вариант использования и опишем конкретный пример токенизации данных устройств.

Сначала нам нужно понять, какую реальную практическую пользу могут принести такие данные и созданные на их основе дататокены. Очевидно, что информация обслуживания, полученная во время работы роботов и устройств, постоянно используется для улучшения алгоритмов или пользовательского опыта. Но в большинстве случаев эта информация не выходит за пределы производителя устройства. Проблемы начинаются, когда на рынке появляются устройства с аналогичным принципом работы (например, роботы-пылесосы) или выходит открытая платформа, которая позиционируется как основа для других решений (Raspberry Pi, Arduino, TurtleBot от ROS). Для первого случая множество однотипных устройств по всему миру генерируют огромные объемы данных, посвященных одной конкретной задаче. Для второго случая разработчики открытых платформ получают уникальные наборы данных в своих проектах по различным задачам. Однако эти данные не агрегируются и не распространяются. Они остаются недоступными для анализа, что ограничивает улучшение системы и затрудняет поиск новых подходов в процессе управления.

Например, для планирования движения манипуляторов обратная кинематика представляет собой вызов. Параметры сочленений кинематической цепи должны быть найдены, чтобы переместить конец цепи в желаемое положение и ориентацию. Другими словами, чтобы переместить конец рукидля правильного положения - нам нужно рассчитать позиции каждого сустава, которыми обладает рука. Часто эта проблема решается аналитически или численно, но иногда у этих подходов возникают проблемы, не наименьшим из которых являются вычислительные. С появлением машинного обучения [подходы с нейронными сетями](https://doi.org/10.1016/j.protcy.2013.12.451) начали использоваться для решения обратной кинематики, но для этого требуются [наборы данных](https://mint-lab.github.io/awesome-robotics-datasets/), содержащие информацию о движении реального устройства для обучения модели.

Такие данные необходимо собирать и предоставлять заинтересованным сторонам. Именно здесь приходят на помощь токены данных [Ocean Protocol](https://oceanprotocol.com/). Они позволяют автоматизировать этот процесс и стимулируют рынок наборов данных для роботов. В настоящее время эту нишу в основном занимают открытые наборы данных, но их основным недостатком является низкое качество для бизнес-целей. Давайте перейдем к нашему примеру токенизации робототехнических данных.

## Встречайте Boston Dynamics spot, продающий свою телеметрию

Spot - это актуальный пример сложной универсальной платформы с широким спектром сценариев применения. Факт в том, что работа с реальной телеметрией Spot довольно сложна, и это может значительно замедлить разработку пользовательских модулей для робота, особенно если разработчик хочет использовать машинное обучение. Примеры операций, которые разработчик мог бы восстановить и изучить, были бы очень полезны здесь, но пока что доступно очень мало данных об использовании робота, особенно за пределами Соединенных Штатов. Вот почему мы хотим, чтобы наш Spot стал поставщиком высококачественных журналов фактической телеметрии, полученной при выполнении тех же операций. Это даст разработчикам множество повторяющихся записей одного и того же сценария, что должно помочь им разрабатывать или улучшать собственные решения.

## Реализация

Основная интеграция с Ocean API предоставляется нашим ранее написанным пакетом ROS - [*ocean_ros*](https://github.com/LoSk-p/ocean_ros). Для связи SDK Spot с абстракциями ROS и работы с журналами робота в этой операционной системе мы используем [драйвер](https://clearpathrobotics.com/assets/guides/melodic/spot-ros/ros_setup.html), созданный Clearpath Robotics. Вы можете узнать больше о том, как собирать телеметрию с помощью SDK Spot в [образовательной программе](https://spot-sdk.education/) у наших коллег из Merklebot.

После выполнения Spot любой команды мы получаем файл в формате rosbagс данными из темы /tf ROS, которая описывает положение кадров Spot относительно друг друга. Кадры представляют части роботов и окружающих объектов, которые робот может видеть с помощью технического зрения. Отношения между двумя кадрами описываются трехэлементным вектором трансляции, который описывает разницу между положениями начала двух кадров, и кватернионом вращения, который показывает разницу между вращениями координатных систем двух кадров. Положение каждого кадра рассчитывается относительно родительского кадра (например, бедро относительно тела), начальный кадр - это положение Spot в начале.

После выполнения Spot любой команды мы получаем файл в формате rosbag с данными из темы /tf ROS, который описывает положение кадров Spot относительно друг друга. Кадры представляют части роботов и окружающих объектов, которые робот может видеть с помощью технического зрения. Отношения между двумя кадрами описываются трехэлементным вектором трансляции, который описывает разницу между положениями начала двух кадров, и кватернионом вращения, который показывает разницу между вращениями координатных систем двух кадров. Положение каждого кадра рассчитывается относительно родительского кадра (например, бедро относительно тела), начальный кадр - это положение Spot в начале.

![Различные части Spot и диаграмма отношений между кадрами](/blog/images/monetizing-logs-of-boston-dynamics-spot-with-ocean-datatokens/spot-scheme.png)

*Различные части Spot и диаграмма отношений между кадрами. Источник: https://dev.bostondynamics.com/docs/concepts/about_spot.html*

<YouTube id="https://youtu.be/6i9zYpCMzn8" posterQuality="max"/>

Видео показывает последовательность команд для создания, продажи и покупки телеметрических токенов Spot (дополнительные сведения о том, как работает пакет ocean_ros, [см. здесь](https://www.youtube.com/watch?v=Ssit8-u6dZY)). Следует отметить, что файл rosbag предварительно загружен в файловую систему IPFS для доступа к нему по хэш-ссылке, которая используется при чеканке токенов.

![Spot на 3D модели робота](/blog/images/monetizing-logs-of-boston-dynamics-spot-with-ocean-datatokens/Spot-on-a-3D-robot-model.jpg)

Видео также демонстрирует покупку этих токенов и пример восстановления всего.Последовательность команд, выполненных Spot на 3D модели робота. Для этого мы используем инструмент визуализации [rviz](http://wiki.ros.org/rviz) для ROS. Таким образом, разработчики могут работать с любой реальной телеметрией Spot, даже не имея доступа к роботу.