---
title: 'Первые две недели работы с гуманоидным роботом Unitree G1'
date: 2024-12-27
published: true
locale: 'ru'
tags: ['Робототехника', 'ROS 2']
cover_image: /blog/images/first-two-weeks-with-unitree-humanoid-robot/cover.webp
description: "Прошло две недели с момента прибытия гуманоидного робота Unitree G1 в лабораторию Robonomics. Команда из не менее чем пяти инженеров с кандидатскими степенями в области робототехники немедленно приступила к изучению и программированию нового устройства. Мы хотим поделиться первыми новостями с места событий: впечатлениями, результатами и вызовами на пути к, как мы надеемся, гуманоидной революции!"
abstract: "Прошло две недели с момента прибытия гуманоидного робота Unitree G1 в лабораторию Robonomics. Команда из не менее чем пяти инженеров с кандидатскими степенями в области робототехники немедленно приступила к изучению и программированию нового устройства. Мы хотим поделиться первыми новостями с места событий: впечатлениями, результатами и вызовами на пути к, как мы надеемся, гуманоидной революции!"
---

## Краткое изложение

- Успешно подключились к тестовому блоку / ПК2 (см. диаграммы ниже).
- Настроили удаленное подключение через **SSH** через **Zerotier** и **Yggdrasil**.
- Изучили основанную на Linux систему на борту гуманоида, выполнили стандартные задачи DevOps.
- Познакомились с библиотекой **Python SDK** изразработчики (мы даже исправили критическую ошибку): теперь мы можем управлять роботом из скриптов: ходить, сидеть, вставать и тушить.
- Созданы **пакеты ROS 2**, подключены к темам, запущено несколько примеров, но требуется дополнительное тестирование.

<RbImage zoom src="/blog/images/first-two-weeks-with-unitree-humanoid-robot/image-schemes.webp" alt="Поток данных человекоподобного робота Unitree" />

## Заметки из поля

**О Python SDK:**

- Использовали виртуальное окружение (**venv**) на **Python 3.10** — SDK не работает с другими версиями.
- Работали через интерфейс **eth0** с dev unit.
- Хотя **CycloneDDS** был предустановлен, он был перестроен вручную без конфликтов.
- Для запуска скриптов необходимо установить переменную среды (рекомендуется добавить в `.bashrc`). **Важно:** укажите полный путь в одинарных кавычках:

<RbCode>

```
export CYCLONEDDS_HOME='/home/unitree/cyclonedds/install'
```
</RbCode>

- Скрипты не работают в режиме отладки робота, хотя, согласно документации, должны.
- Чтобы исправить SDK и заставить робота двигаться, мы добавили строку `self.Start()` в функцию `Move()` файла **g1_loco_client.py**.

**О ROS 2**

- Созданы пакеты из репозитория **unitree_ros2**, включая поддержку **CycloneDDS**.- Получены файлы собранного пакета для добавления их в среду ROS 2.
- Среди примеров:
  - Успешно получены состояния контроллера.
  - Примеры, связанные с состояниями движения, не работали (темы пусты).
- Пакеты могут быть использованы для создания собственных узлов ROS (независимо от того, Python это или C++).

<RbGridWrapper columns="2" textAlign="center" align="end">
  <RbGridElement>
    <RbImage zoom src="/blog/images/first-two-weeks-with-unitree-humanoid-robot/first-entering.webp" alt="Первый вход человекоподобного робота Unitree" />
  </RbGridElement>
  <RbGridElement>
    <RbImage zoom src="/blog/images/first-two-weeks-with-unitree-humanoid-robot/cyclonedds-error.webp" alt="Ошибка CycloneDDS человекоподобного робота Unitree" />
  </RbGridElement>
</RbGridWrapper>

## План задач

1. **Проверить возможность подачи питания от кабеля.** Возможно, такая функция уже существует, нам нужно проверить электрическую документацию или приобрести подходящий кабель.
2. **Понять режим отладки для SDK.** В документации указано, что он работает, но на практике это не так.
3. **Отсутствие продвинутых примеров.** Репозитории ограничены базовыми действиями (сидеть, вставать, управление двигателями). Для CES 2025 нам нужно либо адаптировать готовые простые решения, либо разработать алгоритмы движения на низком уровне.4. **Выбор технологии:**
  - Весь процесс можно реализовать на **Python**, включая интеграцию с Robonomics.
  - Однако предпочтительнее использовать **ROS 2** для структуры и масштабируемости.
5. **Изучение методов обучения с подкреплением** для возможного использования в управлении роботом.

## Полезные ссылки

- Основной репозиторий: [https://github.com/unitreerobotics](https://github.com/unitreerobotics)   
- Python SDK: [https://github.com/unitreerobotics/unitree_sdk2_python](https://github.com/unitreerobotics/unitree_sdk2_python)   
- Пакеты ROS 2: [https://github.com/unitreerobotics/unitree_ros2](https://github.com/unitreerobotics/unitree_ros2)  