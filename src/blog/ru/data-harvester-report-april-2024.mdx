---
title: "Проект Data Harvester: отчет за апрель"
date: 2024-04-11
published: true
locale: 'ru'
cover_image: /blog/images/data-harvester-report-april-2024/cover.png
description: "Команда Robonomics разрабатывает идею автономной платформы для сбора данных. С момента, когда Иван, наш научный администратор, в последний раз поделился идеями о проекте, прошел месяц и половина. За это время Data Harvester получил значительные обновления, и мы с нетерпением хотим выделить их в этом блоге."
abstract: "Команда Robonomics разрабатывает идею автономной платформы для сбора данных. С момента, когда Иван, наш научный администратор, в последний раз поделился идеями о проекте, прошел месяц и половина. За это время Data Harvester получил значительные обновления, и мы с нетерпением хотим выделить их в этом блоге."
tags: ['Объявления', 'Сценарии использования', 'Сотрудничество', 'Умный дом']
---

Команда Robonomics разрабатывает идею автономной платформы для сбора данных. С момента, когда Иван, наш научный администратор, в последний раз [поделился](https://twitter.com/berman_ivan/status/1759943496742404346) идеями о проекте, прошел месяц и половина. За это время Data Harvester получил значительные обновления, и мы с нетерпением хотим выделить их в этом блоге.

## Что такое Data Harvester?

Давайте сначала вспомним, о чем этот проект. В простейшей форме это мобильная робототехническая платформа с датчиками, предназначенная для сбора доступных данных о своем окружении. В нашем сценарии мы используем [Turtlebot 4 Pro](https://clearpathrobotics.com/turtlebot-4/), произведенный компанией Clearpath Robotics, оснащенный 3D-камерой, 2D-лидаром и набором стандартных датчиков для колесных роботов. Центральным вычислительным блоком является Raspberry Pi. Все компоненты робота взаимодействуют через фреймворк ROS 2.

Цель состоит в том, чтобы превратить робота в машину для сбора данных, собирая безопасную информацию обо внутренней среде и представляя ее в удобном для пользователя формате. Для достижения этой цели с базовыми устройствами записи интегрируются дополнительные датчики, и разрабатывается программное обеспечение для обеспечения комплексного сбора данных с этих датчиков.

## Обновление аппаратной части Turtlebot 4 Pro

Изначально в робот был интегрирован набор датчиков воздуха на основе контроллера ESP32, включающий в себя:

- SHT3X: датчик температуры и влажности
- BH1750: датчик интенсивности света
- SCD4X: датчик концентрации углекислого газа

Кроме того, фундаментальная настройка робота претерпела незначительные улучшения для учета увеличенных вычислительных требований и соображений безопасности:

- Raspberry Pi 4GB был заменен на более мощную версию 8GB.
- Был изготовлен 3D-напечатанный корпус для размещения датчиков воздуха, обеспечивающий их компактное расположение.
- Также была напечатана защитная рамка для камеры и лидара.
- Кроме того, робот теперь обтянут предупредительной лентой для улучшенной видимости.

<RbImage zoom src="/blog/images/data-harvester-report-april-2024/upgraded-turtle-bot-4-pro.jpg" alt="Улучшенный Turtle Bot 4 Pro" />

## Прогресс разработки программного обеспечения

Turtlebot поставляется с набором стандартных пакетов для основных операций, включая одновременную локализацию и построение карт (SLAM) и навигацию. Однако задача заключается в интеграции этих модулей для единой функциональности и включения специфических функций для сбора данных. В текущей настройке ожидается, что робот будет собирать данные с датчиков воздуха и сканировать Wi-Fi сети.

На данный момент для робота было разработано три основных пакета ROS 2:

- **data_harvester_navigation** - отвечает за локализацию и навигацию робота на предварительно созданной карте, построенной с помощью SLAM.
- **data_harvester_perception** - отвечает за публикацию данных с датчиков воздуха и проведение сканирования Wi-Fi сетей.
- **data_harvester_chronicler** - управляет регистрацией данных и их последующей публикацией в окончательный архив.

Для контроллера ESP32 была написана прошивка ```esp32-sensors``` на основе фреймворка ESP-IDF с поддержкой всех используемых датчиков. Прошивка доступна в двух версиях: онлайн-версия (с контроллером, подключенным к Wi-Fi) и офлайн-версия.

Исходный код доступен на GitHub: https://github.com/Fingerling42/data-harvester

## Инженерные испытания и тестирование на местности

С начала марта с роботом были совершены экспериментальные поездки. Объектом полевого тестирования является офисное пространство в Пафосе, Кипр. После начальной настройки робот оставали в офисе, и его управление началось осуществляться удаленно с использованием соединения через протокол Yggdrasil end-to-end.

Сначала были сделаны несколько кругов SLAM вокруг офисной территории. В результате была сформирована достаточно качественная карта изученной области.

<RbImage zoom src="/blog/images/data-harvester-report-april-2024/turtle-bot-map-testing.png" alt="Тестирование карты Turtle Bot" подпись="Карта офисного пространства с наложением координат робота после одной из миссий" />

Затем, на основе карты, робот отправился в миссию по сбору данных. По ее завершении были собраны данные о качестве воздуха и качестве сигнала Wi-Fi, а также данные о местоположении робота на карте. Это позволило объединить собранные данные с точками их сбора. В конце концов, окончательный архив был отправлен для обработки и визуализации.

<RbImage zoom src="/blog/images/data-harvester-report-april-2024/turtle-bot-4-app-1.png" alt="Данные датчика воздуха приложения Turtle Bot" подпись="Интерфейс для данных, собранных с датчиков воздуха, установленных на Turtlebot 4 Pro" />

<RbImage zoom src="/blog/images/data-harvester-report-april-2024/turtle-bot-4-app-2.png" alt="Покрытие Wi-Fi приложения Turtle Bot" подпись="Интерфейс для аналитики покрытия Wi-Fi на основе данных, собранных с улучшенного Turtlebot 4 Pro" />

## Следующие этапы

Наш следующий фокус будет сосредоточен на разработке комплексного планирования пути покрытия для полного прохождения области роботом с использованием выбранного алгоритма обратной спирали. Кроме того, будет реализована интеграция с последней версией обертки Robonomics ROS 2 для безопасной передачи данных в облако Robonomics из ROS 2.

На аппаратном фронте мы планируем внедрить выделенный маршрутизатор в робота для обеспечения простоты и независимости в сетевых подключениях для всех компонентов.

В конечном итоге нашей целью является создание специализированного приложения пользовательского интерфейса Data Harvester, позволяющего представлять собранные данные в удобном для пользователя формате. Это может оказаться бесценным, особенно для администраторов офисов.

Следите за обновлениями!