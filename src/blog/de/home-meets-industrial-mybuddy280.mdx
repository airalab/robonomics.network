---
title: "Automatisierung: Zuhause trifft Industrie"
date: 2024-03-24
published: true
locale: 'de'
cover_image: /blog/images/automation-home-meets-industrial-mybuddy280/Cover.png
description: "ROS 2 ist ein Framework, das schnell beliebt wird für die Entwicklung von Robotikanwendungen. Es umfasst die gesammelte Erfahrung der Branche und teilt sie mit der globalen Gemeinschaft. Unser Team ist aktiv an der Entwicklung neuer ROS 2-Pakete für die von uns verwendeten Roboter beteiligt und integriert sie in das dezentrale Robonomics-Netzwerk."
related: ['Robonomics Helps Enable Rust for ROS 2']
abstract: "ROS 2 ist ein Framework, das schnell beliebt wird für die Entwicklung von Robotikanwendungen. Es umfasst die gesammelte Erfahrung der Branche und teilt sie mit der globalen Gemeinschaft. Unser Team ist aktiv an der Entwicklung neuer ROS 2-Pakete für die von uns verwendeten Roboter beteiligt und integriert sie in das dezentrale Robonomics-Netzwerk."
tags: ['ROS 2', 'Smart Home']
---

Technologien, die in einer Branche entwickelt wurden, finden oft breite Anwendung in anderen Branchen, auch wenn sie ursprünglich nicht für sie konzipiert wurden. So hat das Internet, das ursprünglich für militärische Zwecke entwickelt wurde, sein volles Potenzial im zivilen Bereich gezeigt und ist zu einem integralen Bestandteil des modernen Lebens geworden. Ein ähnlicher Trend könnte in der Industrie auftreten, wo Technologien, die für Unternehmensszenarien entwickelt wurden, auch Endbenutzern zugutekommen können.

Historisch gesehen haben sich die Heimautomatisierung und die industrielle Robotik getrennt entwickelt. Aufgrund ihrer hohen Kosten und Sicherheitsbedenken waren Industrieroboter hauptsächlich auf die Großproduktion beschränkt. Die Software zur Steuerung der Produktion war in proprietären Fertigungsausführungs- und computergestützten Fertigungssystemen eingeschlossen. Die Heimautomatisierung hingegen stellte in der Regel ein System aus recht einfachen Geräten dar, die mit Benutzergadgets, Haushaltsgeräten, Beleuchtung, Heizung und Kommunikation interagierten. Der Schwerpunkt in der Kommunikation lag auf der drahtlosen Kommunikation.

Dennoch zeigen sich Trends. Einerseits werden drahtlose Kommunikationsprotokolle aus dem Verbraucherbereich allmählich für industrielle Anwendungen angepasst - zum Beispiel tauchen industrielle Versionen von Wi-Fi oder Bluetooth auf. Andererseits werden Manipulatorroboter erschwinglicher und werden zunehmend auch außerhalb der Industrie in Betracht gezogen. Schon jetzt können wir darüber nachdenken, wie in Zukunft beispielsweise sichere kollaborative Roboter ein integraler Bestandteil des Hauses werden und unser Leben bequemer machen, indem sie beim Kochen und anderen routinemäßigen Hausarbeiten helfen. Auch Open-Source-Implementierungen von industriellen Kommunikationsprotokollen - wie das DDS-Middleware-Protokoll unterDas Festhalten am ROS 2-Framework wird zum Erbe von Enthusiasten aus der ganzen Welt.

ROS 1 wurde für das Management einzelner Roboter entwickelt und konnte nicht den Anforderungen von Fertigungsunternehmen gerecht werden: Echtzeitbetrieb, Fehlertoleranz unter instabilen Kommunikationsbedingungen, Interaktion mit einer großen Anzahl von Geräten. So begann die Entwicklung von ROS 2, das ursprünglich speziell für die Bedürfnisse der Industrie positioniert war und nun im Bereich der Robotik immer populärer wird. In der Mitte des Jahres 2023 fand ein wichtiges Ereignis statt - 5 Jahre nach dem Erscheinen von ROS 2 Dashing im Jahr 2019 übertraf die Anzahl der von Ingenieuren verwendeten ROS 2-Pakete laut [metrics.ros.org](https://metrics.ros.org/packages_rosdistro.html) die ROS 1-Pakete, und jetzt sind etwa 70% der Softwarepakete, die aus den offiziellen Repositories heruntergeladen werden, für ROS 2.

## Vorteile von ROS 2 für Szenarien der Hausautomatisierung

Das Robonomics-Team ist an vorderster Front dieses Prozesses und unterstützt aktiv die ROS 2-Community. Mit unserer Unterstützung werden ROS 2-Bindungen für Rust entwickelt (siehe [in unserem Blog](https://robonomics.network/blog/ros-2-rust-report-2022/)), sowie ein [ROS 2 Wrapper](https://github.com/Fingerling42/robonomics-ros2) zur Verwendung der Hauptfunktionen der dezentralen Robonomics-Cloud. Wir testen auch regelmäßig Geräte, die ROS 2 unterstützen, um unsere Software speziell auf ihnen in Aktion zu überprüfen. Als eines dieser Roboter haben wir kürzlich den myBuddy 280 erworben - einen kostengünstigen Dualarm-Manipulator für Schulung und Forschung von [Elephant Robotics](https://www.elephantrobotics.com/en/). Der Roboter kann bis zu etwa 250 Gramm heben und kostet rund 1700 US-Dollar, was für Erstbenutzer relativ erschwinglich ist.

<RbImage zoom src="/blog/images/automation-home-meets-industrial-mybuddy280/pic_1_myBuddy_280.png" alt="myBuddy 280 Dualarm-Roboter-Manipulator" />

Am Beispiel dieses Roboters sind die Vorteile von ROS 2 sehr deutlich sichtbar, die das potenzielle Einsatzgebiet dieses Frameworks in Szenarien der Hausautomatisierung ermöglichen. Insbesondere dank des DDS-Middleware-Protokolls können Sie myBuddy in Verbindung mit einem relativ leistungsstarken Desktop-PC verwenden und einen vollwertigen Roboter in eine typische Smart-Home-Struktur integrieren. Wenn der Roboter und der Computer über dieIm selben lokalen Netzwerk und bei Verwendung derselben [DOMAIN_ID](https://docs.ros.org/en/rolling/Concepts/Intermediate/About-Domain-ID.html) können sie ohne zusätzliche Konfiguration kommunizieren. Grundlegende Software wie Treiber- und Hardwarebeschreibungspakete laufen auf dem Raspberry Pi des Roboters. Die restliche erforderliche Anwendungssoftware wie "intelligente" Bewegungsplaner wie MoveIt, Simulatoren wie Gazebo, Überwachungs- und Visualisierungstools wie RViz, Robonomics-Knoten, maschinelles Lernen, Stapelprotokollverarbeitung, IPFS-verteilte Datenübertragungsknoten und andere Aufgaben, die eine erhebliche Rechenleistung erfordern, können auf diesem leistungsstärkeren Gerät ausgeführt werden.

Diese Anordnung ermöglicht eine optimale Verteilung der Rechenressourcen und schafft im Wesentlichen eine architektonische Struktur ähnlich der eines Mikroservices. Dank der ROS 2-Plattform und des zugrunde liegenden DDS-Middleware-Protokolls ist diese Flexibilität möglich, sodass jedes Gerät die Aufgaben ausführen kann, die am besten zu seinen Fähigkeiten passen. Über automatische Geräteerkennungsmechanismen, die in DDS integriert sind, finden ROS 2-Themen und -Dienste einander ohne zusätzliche Einstellungen.

<RbImage zoom src="/blog/images/automation-home-meets-industrial-mybuddy280/pic_2_ros2_dds_smart_home.png" alt="Smart Home mit ROS 2 und DDS" />

Es sollte auch darauf hingewiesen werden, dass die Architektur von ROS 2 eine Trennung des Transportprotokolls (wie DDS) in eine separate Schicht namens ROS Middleware impliziert, was es einfacher macht, von einer Protokollimplementierung zu einer anderen zu wechseln. Nach langen Diskussionen hat sich die ROS-Community kürzlich entschieden, auf ein leichteres Protokoll namens Zenoh umzusteigen, das für 2024 geplant ist. Für einen tieferen Einblick in dieses Thema empfehlen wir, den [Bericht zu ROS 2 Middleware-Alternativen](https://discourse.ros.org/uploads/short-url/o9ihvSjCwB8LkzRklpKdeesRTDi.pdf) zu konsultieren, der Informationen zu allen in Betracht gezogenen DDS-Alternativen im Jahr 2023 enthält.

## Die Abenteuer von myBuddy und der Robonomics-kompatible Treiber

Trotz der Vermarktung des myBuddy 280 als ROS 2-kompatibel stellte sich heraus, dass er für den vollständigen Betrieb in ROS 2 nicht ausreichte (selbst ohne Bewegungsplanungssoftware wie MoveIt2). Zunächst mussten wir das standardmäßig mitgelieferte Raspberry Pi 4B-Modell durch ein leistungsstärkeres Modell mit 8 GB RAM ersetzen, um unseren Anforderungen gerecht zu werden. Zweitens stießen wir nach dem Testen des ROS 2-Pakets für myBuddy vom Hersteller auf Probleme. Wie üblichIn der Open-Source-Welt garantiert allein die Veröffentlichung in einem öffentlichen Repository nicht die Funktionalität eines Projekts. Der Roboter wurde mit der derzeit nicht unterstützten ROS 2 Galactic-Distribution ausgeliefert, die 2022 abgelaufen ist (übrigens können Sie hier mehr über die Supportzeiträume der Distributionen erfahren). Trotz allem haben wir versucht, den Roboter auf der veralteten Distribution auszuführen und sind schnell auf sogenannte Deadlocks gestoßen - ein Verhalten, bei dem gestartete Unterprogramme (oder Rechenprozesse) die Arbeit gegenseitig blockieren. Nach einiger Recherche stellten wir fest, dass diese Fehler in der LTS-Distribution von ROS 2 Humble behoben wurden.

Leider haben die Entwickler von Elephant Robotics vor einigen Jahren aufgehört, Pakete zu aktualisieren, und vor allem wurden nicht alle erforderlichen Pakete für den Roboter von ROS 1 auf ROS 2 übertragen. Daher haben wir beschlossen, die Aufgabe selbst in die Hand zu nehmen. Aufgrund der Nichtverfügbarkeit der Low-Level-API für ROS 2 fanden wir es einfacher, unsere eigene Implementierung des ROS 2-Pakets zu entwickeln, in der wir die Steuerung von myBuddy über Robonomics hinzufügen konnten. Dafür haben wir das Python-Modul pymycobot verwendet und unseren eigenen ROS 2-Treiber implementiert.

Der aktuelle benutzerdefinierte Treiber kann die Zustände jedes Gelenks für beide Arme und das Handgelenk abrufen sowie Winkel an sie senden, Roboter-Gelenkzustände mithilfe von Robonomics-Datenprotokollen veröffentlichen und die Fernsteuerung der Gelenke durch Senden einer Startfunktion an die Adresse des Roboters ermöglichen. Wenn Sie es ausprobieren möchten, beachten Sie bitte, dass das Aktualisieren der ROS 2-Version durch Neuinstallation eines neuen Images mit Paketen auf dem Raspberry Pi 4B eine erhebliche Zeit in Anspruch nehmen kann (ungefähr 2-4 Stunden).

In Zukunft planen wir, die Funktionen des Treibers zu erweitern und die Fernsteuerung dieses Roboters durch Robonomics in unserem Labor in Zypern zu ermöglichen. Außerdem möchten wir den Robonomics ROS 2 Wrapper in die offizielle Liste der rosdistro-Pakete aufnehmen, damit Benutzer ihn automatisch installieren können, wenn sie das ROS 2-Projekt initialisieren.

Bleiben Sie auf dem Laufenden für unsere Updates!