---
title: Robonomics Helps Enable Rust for ROS 2
date: 2022-12-29
published: true
locale: 'ko'
tags: ['ROS 2', 'Use Cases', 'Collaborations']
cover_image: /blog/images/ros-2-rust-report-2022/cover.jpg
description: "이것은 로봇 운영 시스템 2를 만든 원래 팀의 전 구성원인 Esteve Fernandez와의 협업 이야기입니다. 그는 몇 년 동안 ROS 2를 위한 Rust 바인딩을 개발해 왔습니다. 우리는 이 프로젝트의 이야기를 공유하고, Esteve를 도와준 방법 및 로봇 응용 프로그램에 Rust를 사용하는 이유를 설명하고자 합니다."
abstract: "이것은 로봇 운영 시스템 2를 만든 원래 팀의 전 구성원인 Esteve Fernandez와의 협업 이야기입니다. 그는 몇 년 동안 ROS 2를 위한 Rust 바인딩을 개발해 왔습니다. 우리는 이 프로젝트의 이야기를 공유하고, Esteve를 도와준 방법 및 로봇 응용 프로그램에 Rust를 사용하는 이유를 설명하고자 합니다."
---

## ROS 1에서 ROS 2로

ROS는 처음에 특정 유형의 로봇을 위한 개발 환경으로 만들어졌습니다. 운영 시스템의 첫 번째 버전은 주로 보드에 컴퓨팅 리소스가 탑재된 단일 로봇 및 실시간 제어가 필요하지 않은 안정적인 네트워크 연결을 가진 로봇을 대상으로 했습니다. 따라서 개발자들은 초기에 ROS 1이 연구 및 학술 응용 프로그램에 가장 적합할 것으로 생각했습니다.

그러나 ROS는 결국 연구 커뮤니티를 넘어 상용화되었습니다. 새로운 사용 사례의 요구를 충족시키기 위해 개발자들은 새로운 기능 추가를 시작했습니다. 다중 로봇 및 소형 임베디드 시스템 지원, 실시간 통합을 위한 지원, ROS 1 출시 이후 등장한 새로운 기술 통합 등을 결정했습니다. 동시에, 기존 버전의 로봇 운영 시스템을 변경하지 않기로 결정했습니다. 기존 응용 프로그램에 중대한 영향을 미쳤을 것이기 때문입니다. 그 결과 [ROS 2](https://design.ros2.org/)가 탄생했습니다.

## Esteve에 대해

Esteve는 ROS의 두 번째 버전을 개발하기 시작한 원래 팀 중 한 명이었습니다. 그는 오픈 소스 개발과 자율 주행 자동차 분야에서 20년 이상의 경험을 가진 로봇 공학자입니다. 핵심에서 떠난 후에도 Esteve는 계속해서 Rust를 사용하여 ROS 2를 개발해 왔습니다.ROS 2 팀은 프로젝트의 저장소에 적극적으로 기여해 왔습니다.

Esteve의 개인적인 목표 중 하나는 개발자들이 Rust로 ROS 2 애플리케이션을 작성할 수 있는 프로젝트를 개발하는 것이었습니다(바인딩, 코드 생성기 등), 이를 통해 효율적이고 견고한 로봇 프로그램을 만들기 위한 강력한 도구를 제공했습니다. 그러나 이 프로젝트는 처음에는 상당히 느리게 발전했으며 Esteve는 4년 동안 거의 혼자서 프로젝트에 노력을 기울였습니다.

1년 반 전, 우리는 Esteve를 만나 ros2-rust의 개발을 돕기로 합의했습니다. 이를 통해 Esteve는 프로젝트에 더 많은 시간을 할애하고 더 많은 관심을 끌 수 있었습니다. Rust의 ROS2 커뮤니티가 성장하고 다른 사람들도 Esteve의 리뷰로 프로젝트에 기여하기 시작했습니다. 현재 [주요 저장소](https://github.com/ros2-rust/ros2_rust)는 27명의 기여자, 75개의 포크 및 Github에서 466개의 스타를 보유하고 있습니다.

## 개발 진행 상황

현재 ros2-rust는 이미 메시지 생성, 퍼블리셔/서브스크라이버 메커니즘, 클라이언트 및 서비스 지원을 구현했습니다. 우리의 큰 목표 중 하나는 ROS 2 미들웨어로 Robonomics를 개발하는 것이며, 이를 위해 ros2-rust에 Robonomics 전송 계층을 추가해야 합니다. 이 기능을 구현하기 위해 ROS2의 표준 데이터 분배 서비스(DDS) 대신 libP2P 통신 라이브러리 지원이 추가되고 있습니다. DDS는 분산된 방식으로 발견을 허용하는 게시-구독 전송을 제공하여 ROS 마스터와 같은 중앙 집중형 도구 없이 두 프로그램이 통신할 수 있도록 합니다. 그러나 DDS는 ROS2에 Robonomics를 추가하기 위해 추가적인 브릿지를 개발해야 하지만, libP2P는 네이티브 Robonomics 통합을 허용합니다.

![ros-2-stack](/blog/images/ros-2-rust-report-2022/ros-client-library-api-stack.png)

*ROS 클라이언트 라이브러리 API 스택 다이어그램에서 ROS 2 미들웨어(rmw)의 위치를 보여줍니다. 출처: [ROS 2 Documentation](https://docs.ros.org/en/foxy/Concepts/About-Internal-Interfaces.html)*

## 왜 Rust에서 ROS2를 사용해야 하는가?

Rust는 Substrate에서 Robonomics의 주요 언어이며, 로봇 응용 프로그램에 대한 중요한 장점을 가지고 있습니다.

일반적으로 상용 및 대규모 배포를 위해 사용되는 가장 널리 사용되는 로봇 플랫폼에는 C++이 사용되며, 따라서 ROS에는 먼저 추가되었습니다. 이는 C++이 '하드웨어에 가까운' 작업을 수행할 수 있는 능력 때문입니다.하드웨어 및 제한된 컴퓨팅 리소스를 갖춘 로봇 응용 프로그램에 대한 적합성을 고려해야 합니다. 그러나 이는 C++을 더 위험하게 만들기도 합니다. 개발 중에 중대한 실수를 저지르기 쉽고, 이러한 실수는 실제(그리고 고장난) 하드웨어에서 나중에 발견됩니다.

여기서 Rust의 장점이 나타납니다. Rust는 C++과 같이 저수준 개발을 가능하게 하지만 추가된 메모리 안전성을 제공합니다. 이 안전성은 추가적인 런타임 비용 없이 제공되며 응용 프로그램의 높은 실행 속도를 유지합니다. 게다가 Rust는 복잡하고 위험한 로봇 프로젝트의 개발을 더 효율적으로 만듭니다.

## 미래 계획

가까운 미래에 Esteve는 ros2-rust에 액션(노드 기능에 대한 비동기 호출)을 추가할 계획입니다. 이를 통해 클라이언트가 요청의 진행 상황을 추적하고 최종 결과를 얻으며, 요청이 완료되기 전에 선택적으로 취소할 수 있습니다. 특히 이를 통해 로봇이 네비게이션 및 위치 결정을 위해 쿼리를 생성할 수 있습니다.

장기적인 계획에는 Robonomics Network 위에 시작된 ROS 2 프로토 타입을 구축하는 것이 포함됩니다. 이를 통해 Robonomics on Substrate를 사용하여 Robonomics 분산 클라우드의 브라우저에서 ROS2를 실행할 수 있는 WebAssembly 앱을 만들 수 있습니다. 우리는 [Robonomics Academy](https://robonomics.academy)에서 직접 브라우저에서 작업할 수 있는 ROS 2에 헌신된 새로운 코스를 기대하고 있습니다!