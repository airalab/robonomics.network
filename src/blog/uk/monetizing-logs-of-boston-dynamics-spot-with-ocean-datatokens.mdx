---
title: Монетизація журналів Boston Dynamics Spot за допомогою Ocean Datatokens
date: 2021-09-09
published: true
locale: 'uk'
cover_image: /blog/images/monetizing-logs-of-boston-dynamics-spot-with-ocean-datatokens/Robonomics_Ocean_p3_blog.jpg
description: "У останній статті ми представили наш пакет ROS - ocean_ros, який з'єднує Ocean API та ROS, а також частково згадали про випадок використання для продажу технічних журналів від роботів. Сьогодні ми заглибимося глибше в цей випадок використання та опишемо конкретний приклад токенізації даних пристроїв."
abstract: "Час для нового етапу інтеграції з Ocean Protocol."
tags: ['Співпраця', 'Використання випадків']
---

Час для нового етапу інтеграції з Ocean Protocol. У [останній статті](/blog/ocean-protocol-p-2/), ми представили наш пакет ROS - ocean_ros, який з'єднує Ocean API та ROS, а також частково згадали про випадок використання для продажу технічних журналів від роботів. Сьогодні ми заглибимося глибше в цей випадок використання та опишемо конкретний приклад токенізації даних пристроїв.

Спочатку нам потрібно зрозуміти, яку реальну практичну користь можуть принести такі дані та створені з них дататокени. Очевидно, що інформація про обслуговування, отримана під час роботи роботів та пристроїв, постійно використовується для вдосконалення алгоритмів або користувацького досвіду. Проте, ця інформація в основному не виходить за межі виробника пристрою. Складнощі починаються, коли на ринку з'являються пристрої з аналогічним принципом роботи (наприклад, роботизовані пилососи) або виходить відкрита платформа, яка позиціонується як основа для інших рішень (Raspberry Pi, Arduino, TurtleBot від ROS). У першому випадку багато таких самих типів пристроїв по всьому світу генерують величезні обсяги даних, присвячених одній конкретній задачі. У другому випадку розробники відкритих платформ отримують унікальні набори даних у своїх проектах у різних задачах. Однак цей досвід не агрегується та не поширюється. Він залишається недоступним для аналізу, що обмежує вдосконалення системи та ускладнює пошук нових підходів у процесі управління.

Наприклад, для планування руху маніпуляторів, обернена кінематика є викликом. Параметри зчленування кінематичного ланцюга потрібно знайти, щоб перемістити кінець ланцюга в бажане положення та орієнтацію. Іншими словами, для переміщення кінця рукидля правильного положення - нам потрібно розрахувати позиції кожного з'єднання, яким володіє рука. Часто цю проблему вирішують аналітично або чисельно, але іноді ці підходи мають проблеми, не останні з яких - обчислювальні. З появою машинного навчання [підходи на основі нейронних мереж](https://doi.org/10.1016/j.protcy.2013.12.451) почали використовуватися для вирішення оберненої кінематики, але для цього потрібні [набори даних](https://mint-lab.github.io/awesome-robotics-datasets/), які містять інформацію про рух реального пристрою для навчання моделі.

Такі дані потрібно зібрати та надати зацікавленим сторонам. Саме тут використовуються токени даних [Ocean Protocol](https://oceanprotocol.com/). Вони дозволяють автоматизувати цей процес та стимулювати ринок наборів даних для роботів. Зараз цю нішу в основному займають відкриті набори даних, але їхнім основним недоліком є низька якість для бізнес-випадків використання. Давайте перейдемо до нашого прикладу токенізації роботичних даних.

## Зустрічайте Boston Dynamics spot, який продає свою телеметрію

Spot є актуальним прикладом складної універсальної платформи з великим різноманіттям сценаріїв застосування. Факт полягає в тому, що робота з реальною телеметрією Spot досить складна, і це може значно уповільнити розробку власних модулів для робота, та ще більше, якщо розробник хоче використовувати машинне навчання. Приклади операцій, які розробник міг би відновити та вивчити, були б дуже корисні тут, але наразі дуже мало даних про використання робота, особливо за межами Сполучених Штатів. Тому ми хочемо, щоб наш Spot став постачальником високоякісних журналів фактичної телеметрії, отриманої під час виконання тих самих операцій. Це надасть розробникам кілька повторюваних записів того ж самого сценарію, що повинно допомогти їм розробляти або вдосконалювати власні рішення.

## Реалізація

Основна інтеграція з Ocean API забезпечується нашим написаним раніше пакетом ROS - [*ocean_ros*](https://github.com/LoSk-p/ocean_ros). Для поєднання SDK Spot з абстракціями ROS та роботи з журналами робота всередині цієї операційної системи ми використовуємо [драйвер](https://clearpathrobotics.com/assets/guides/melodic/spot-ros/ros_setup.html), створений Clearpath Robotics. Ви можете дізнатися більше про те, як збирати телеметрію за допомогою SDK Spot у [освітній програмі](https://spot-sdk.education/) від наших колег з Merklebot.

Після виконання Spot будь-якої команди ми отримуємо файл у форматі rosbag.з даних з теми /tf ROS теми, яка описує положення кадрів Spot відносно один одного. Кадри представляють частини роботів та навколишні об'єкти, які робот може бачити за допомогою технічного зору. Відношення між двома кадрами описується тривимірним вектором трансляції, який описує різницю між положеннями початку двох кадрів, та кватерніоном обертання, який показує різницю між обертаннями координатних систем двох кадрів. Положення кожного кадру обчислюється відносно батьківського кадру (наприклад, стегно відносно тіла), початковий кадр - це положення Spot на початку.

Після виконання Spot будь-якої команди ми отримуємо файл у форматі rosbag з даними з теми /tf ROS, яка описує положення кадрів Spot відносно один одного. Кадри представляють частини роботів та навколишні об'єкти, які робот може бачити за допомогою технічного зору. Відношення між двома кадрами описується тривимірним вектором трансляції, який описує різницю між положеннями початку двох кадрів, та кватерніоном обертання, який показує різницю між обертаннями координатних систем двох кадрів. Положення кожного кадру обчислюється відносно батьківського кадру (наприклад, стегно відносно тіла), початковий кадр - це положення Spot на початку.

![Різні частини Spot та діаграма відношень між кадрами](/blog/images/monetizing-logs-of-boston-dynamics-spot-with-ocean-datatokens/spot-scheme.png)

*Різні частини Spot та діаграма відношень між кадрами. Джерело: https://dev.bostondynamics.com/docs/concepts/about_spot.html*

<YouTube id="https://youtu.be/6i9zYpCMzn8" posterQuality="max"/>

У відео показана послідовність команд для створення, продажу та купівлі телеметричних токенів Spot (докладніше про те, як працює пакет ocean_ros, [див. тут](https://www.youtube.com/watch?v=Ssit8-u6dZY)). Слід зауважити, що файл rosbag попередньо завантажено в файлову систему IPFS для доступу до нього за допомогою хеш-посилання, яке використовується при відтворенні токенів даних.

![Spot на 3D моделі робота](/blog/images/monetizing-logs-of-boston-dynamics-spot-with-ocean-datatokens/Spot-on-a-3D-robot-model.jpg)

У відео також демонструється покупка цих токенів даних та приклад відновлення всьогопослідовність команд, виконаних Spot на 3D моделі робота. Для цього ми використовуємо інструмент візуалізації [rviz](http://wiki.ros.org/rviz) для ROS. Таким чином, розробники можуть працювати з будь-якою реальною телеметрією Spot, навіть не маючи доступу до робота.