---
title: "Проект Data Harvester: Звіт за квітень"
date: 2024-04-11
published: true
locale: 'uk'
cover_image: /blog/images/data-harvester-report-april-2024/cover.png
description: "Команда Robonomics розробляє ідею автономної платформи для збору даних. З моменту, коли Іван, наш науковий адміністратор, останній раз поділився висновками про проект, пройшло місяць і пів. За цей час Data Harvester отримав значні оновлення, і ми з нетерпінням хочемо їх висвітлити в цьому дописі у блозі."
abstract: "Команда Robonomics розробляє ідею автономної платформи для збору даних. З моменту, коли Іван, наш науковий адміністратор, останній раз поділився висновками про проект, пройшло місяць і пів. За цей час Data Harvester отримав значні оновлення, і ми з нетерпінням хочемо їх висвітлити в цьому дописі у блозі."
tags: ['Оголошення', 'Використання', 'Співпраця', 'Розумний дім']
---

Команда Robonomics розробляє ідею автономної платформи для збору даних. З моменту, коли Іван, наш науковий адміністратор, останній раз [поділився](https://twitter.com/berman_ivan/status/1759943496742404346) висновками про проект, пройшло місяць і пів. За цей час Data Harvester отримав значні оновлення, і ми з нетерпінням хочемо їх висвітлити в цьому дописі у блозі.

## Що таке Data Harvester?

Спочатку давайте узагальнимо, про що йдеться в цьому проекті. У найпростішому вигляді це мобільна роботизована платформа з сенсорами, призначена для збору доступних даних про своє оточення. У нашому сценарії ми використовуємо [Turtlebot 4 Pro](https://clearpathrobotics.com/turtlebot-4/), вироблений компанією Clearpath Robotics, обладнаний 3D-камерою, 2D лідаром та набором стандартних сенсорів для колісних роботів. Центральною обчислювальною одиницею є Raspberry Pi. Усі компоненти робота взаємодіють через фреймворк ROS 2.

Метою є перетворення робота на машину для збору даних, яка збирає безпечну інформацію про внутрішнє середовище та представляє її у зручному для користувача форматі. Для досягнення цієї мети інтегруються додаткові сенсори з базовими пристроями запису, а також розробляється програмне забезпечення для забезпечення комплексного збору даних з цих сенсорів.

## Оновлення апаратної частини Turtlebot 4 Pro

Спочатку в робота був інтегрований набір повітряних сенсорів на основі контролера ESP32. Ці сенсори включають:

- SHT3X: датчик температури та вологості
- BH1750: датчик інтенсивності світла
- SCD4X: датчик концентрації вуглекислого газу

Крім того, фундаментальна настройка робота пройшла незначні покращення для врахування збільшених обчислювальних вимог та питань безпеки:

- Raspberry Pi 4GB був оновлений до потужнішої версії 8GB.
- Було створено 3D-надрукований корпус для розміщення повітряних сенсорів, забезпечуючи їх компактне розташування.
- Також було надруковано захисну рамку для камери та лідара.
- Додатково робот тепер обгорнутий попереджувальною стрічкою для покращення видимості.

<RbImage zoom src="/blog/images/data-harvester-report-april-2024/upgraded-turtle-bot-4-pro.jpg" alt="Оновлений Turtle Bot 4 Pro" />

## Прогрес у розробці програмного забезпечення

Turtlebot поставляється з набором стандартних пакетів для базових операцій, включаючи одночасну локалізацію та картографування (SLAM) та навігацію. Однак завданням залишається інтеграція цих модулів для єдиної функціональності та включення конкретних функцій для збору даних. У поточній настройці очікується, що робот буде збирати дані від повітряних сенсорів та сканувати мережі Wi-Fi.

Наразі для робота було розроблено три основні пакети ROS 2:

- **data_harvester_navigation** - відповідає за локалізацію та навігацію робота на попередньо створеній мапі, побудованій за допомогою SLAM.
- **data_harvester_perception** - відповідає за публікацію даних від повітряних сенсорів та проведення сканування мереж Wi-Fi.
- **data_harvester_chronicler** - керує журналюванням даних та їх подальшою публікацією в кінцевий архів.

Для контролера ESP32 було написано прошивку ```esp32-sensors``` на основі фреймворку ESP-IDF з підтримкою всіх використовуваних сенсорів. Прошивка доступна у двох версіях: онлайн-версія (з підключеним контролером до Wi-Fi) та офлайн-версія.

Вихідний код доступний на GitHub: https://github.com/Fingerling42/data-harvester

## Інженерія на місці та тестування

З початку березня з роботом були здійснені експериментальні поїздки. Об'єктом полігонування став офісний простір у Пафосі, Кіпр. Після початкової настройки робот залишили в офісі, і його керування почалося віддалено, використовуючи з'єднання через протокол Yggdrasil з кінця в кінець.

Спочатку було зроблено кілька кол на SLAM навколо офісної території. В результаті була сформована досить якісна карта вивченої області.

<RbImage zoom src="/blog/images/data-harvester-report-april-2024/turtle-bot-map-testing.png" alt="Тестування карти Turtle Bot" caption="Карта офісного простору з накладенням координат робота після однієї з місій" />

Потім, на основі карти, робот вирушив у місію для збору даних. Після її завершення були зібрані дані про якість повітря та якість сигналу Wi-Fi разом з даними про місцезнаходження робота на карті. Це дозволило поєднати зібрані дані з точками, де вони були зібрані. У кінці кінців, кінцевий архів було відправлено для обробки та візуалізації.

<RbImage zoom src="/blog/images/data-harvester-report-april-2024/turtle-bot-4-app-1.png" alt="Дані датчика повітря в додатку Turtle Bot" caption="Інтерфейс користувача для даних, зібраних від повітряних сенсорів, встановлених на Turtlebot 4 Pro" />

<RbImage zoom src="/blog/images/data-harvester-report-april-2024/turtle-bot-4-app-2.png" alt="Покриття Wi-Fi в додатку Turtle Bot" caption="Інтерфейс користувача для аналітики покриття Wi-Fi на основі даних, зібраних від оновленого Turtlebot 4 Pro" />

## Наступні Кроки

Наш наступний фокус буде спрямований на розробку комплексного планування шляху покриття для повного проходження області роботом, використовуючи вже вибраний алгоритм Backtracking Spiral. Додатково буде реалізована інтеграція з останньою версією обгортки Robonomics ROS 2 для безпечної передачі даних від ROS 2 до хмари Robonomics.

На апаратному фронті ми плануємо включити в робота окремий маршрутизатор для забезпечення простоти та незалежності в мережових підключеннях для всіх компонентів.

У кінцевому підсумку нашою метою є створення спеціалізованого додатку інтерфейсу Data Harvester, що дозволить представляти зібрані дані у зручному для користувача форматі. Це може бути надзвичайно корисним, особливо для адміністраторів офісів.

Слідкуйте за оновленнями!